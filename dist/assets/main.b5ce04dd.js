var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n;const u={};import{r as s,R as l,d as c,e as f,o as p,i as d}from"./vendor.989da577.js";import{s as h,l as b}from"./index.bfd85b07.js";import{i as v}from"./io.6426f1c5.js";var y,g={exports:{}};
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/y=g,function(){var e={}.hasOwnProperty;function t(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i){var o=typeof i;if("string"===o||"number"===o)r.push(i);else if(Array.isArray(i)){if(i.length){var a=t.apply(null,i);a&&r.push(a)}}else if("object"===o)if(i.toString===Object.prototype.toString)for(var u in i)e.call(i,u)&&i[u]&&r.push(u);else r.push(i.toString())}}return r.join(" ")}y.exports?(t.default=t,y.exports=t):window.classNames=t}();var m=g.exports;function _(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var O={};function w(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:O}var P=Object.assign,j=Object.getOwnPropertyDescriptor,S=Object.defineProperty,E=Object.prototype,A=[];Object.freeze(A);var T={};Object.freeze(T);var I="undefined"!=typeof Proxy,D=Object.toString();function C(){I||_("Proxy not available")}function k(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var N=function(){};function x(e){return"function"==typeof e}function V(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function R(e){return null!==e&&"object"==typeof e}function L(e){var t;if(!R(e))return!1;var r=Object.getPrototypeOf(e);return null==r||(null==(t=r.constructor)?void 0:t.toString())===D}function M(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function U(e,t,r){S(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function z(e,t,r){S(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function F(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(e){return R(e)&&!0===e[r]}}function B(e){return e instanceof Map}function K(e){return e instanceof Set}var H=void 0!==Object.getOwnPropertySymbols;var G="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:H?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function $(e){return null===e?null:"object"==typeof e?""+e:e}function W(e,t){return E.hasOwnProperty.call(e,t)}var q=Object.getOwnPropertyDescriptors||function(e){var t={};return G(e).forEach((function(r){t[r]=j(e,r)})),t};function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t,r){return t&&Y(e.prototype,t),r&&Y(e,r),e}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}var re=Symbol("mobx-stored-annotations");function ne(e){return Object.assign((function(t,r){ie(t,r,e)}),e)}function ie(e,t,r){W(e,re)||U(e,re,J({},e[re])),function(e){return"override"===e.annotationType_}(r)||(e[re][t]=r)}var oe=Symbol("mobx administration"),ae=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=nt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return It(this)},t.reportChanged=function(){At(),Dt(this),Tt()},t.toString=function(){return this.name_},e}(),ue=F("Atom",ae);function se(e,t,r){void 0===t&&(t=N),void 0===r&&(r=N);var n,i=new ae(e);return t!==N&&Yt("onBO",i,t,n),r!==N&&qt(i,r),i}var le={identity:function(e,t){return e===t},structural:function(e,t){return pn(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return pn(e,t,1)}};function ce(e,t,r){return ur(e)?e:Array.isArray(e)?Fe.array(e,{name:r}):L(e)?Fe.object(e,void 0,{name:r}):B(e)?Fe.map(e,{name:r}):K(e)?Fe.set(e,{name:r}):"function"!=typeof e||Ht(e)||ir(e)?e:M(e)?rr(e):Bt(r,e)}function fe(e){return e}function pe(e,t){return{annotationType_:e,options_:t,make_:de,extend_:he}}function de(e,t,r,n){var i;if(null==(i=this.options_)?void 0:i.bound)return null===this.extend_(e,t,r,!1)?0:1;if(n===e.target_)return null===this.extend_(e,t,r,!1)?0:2;if(Ht(r.value))return 1;var o=be(e,this,t,r,!1);return S(n,t,o),2}function he(e,t,r,n){var i=be(e,this,t,r);return e.defineProperty_(t,i,n)}function be(e,t,r,n,i){var o,a,u,s,l,c;void 0===i&&(i=Pt.safeDescriptors),c=n,t.annotationType_,c.value;var f,p=n.value;(null==(o=t.options_)?void 0:o.bound)&&(p=p.bind(null!=(f=e.proxy_)?f:e.target_));return{value:Xe(null!=(a=null==(u=t.options_)?void 0:u.name)?a:r.toString(),p,null!=(s=null==(l=t.options_)?void 0:l.autoAction)&&s),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function ve(e,t){return{annotationType_:e,options_:t,make_:ye,extend_:ge}}function ye(e,t,r,n){var i;if(n===e.target_)return null===this.extend_(e,t,r,!1)?0:2;if((null==(i=this.options_)?void 0:i.bound)&&!ir(e.target_[t])&&null===this.extend_(e,t,r,!1))return 0;if(ir(r.value))return 1;var o=me(e,this,t,r,!1,!1);return S(n,t,o),2}function ge(e,t,r,n){var i,o=me(e,this,t,r,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,n)}function me(e,t,r,n,i,o){var a;void 0===o&&(o=Pt.safeDescriptors),a=n,t.annotationType_,a.value;var u,s=n.value;i&&(s=s.bind(null!=(u=e.proxy_)?u:e.target_));return{value:rr(s),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function _e(e,t){return{annotationType_:e,options_:t,make_:Oe,extend_:we}}function Oe(e,t,r){return null===this.extend_(e,t,r,!1)?0:1}function we(e,t,r,n){var i;return i=r,this.annotationType_,i.get,e.defineComputedProperty_(t,J({},this.options_,{get:r.get,set:r.set}),n)}function Pe(e,t){return{annotationType_:e,options_:t,make_:je,extend_:Se}}function je(e,t,r){return null===this.extend_(e,t,r,!1)?0:1}function Se(e,t,r,n){var i,o;return this.annotationType_,e.defineObservableProperty_(t,r.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:ce,n)}var Ee=Ae();function Ae(e){return{annotationType_:"true",options_:e,make_:Te,extend_:Ie}}function Te(e,t,r,n){var i,o,a,u;if(r.get)return He.make_(e,t,r,n);if(r.set){var s=Xe(t.toString(),r.set);return n===e.target_?null===e.defineProperty_(t,{configurable:!Pt.safeDescriptors||e.isPlainObject_,set:s})?0:2:(S(n,t,{configurable:!0,set:s}),2)}if(n!==e.target_&&"function"==typeof r.value)return M(r.value)?((null==(u=this.options_)?void 0:u.autoBind)?rr.bound:rr).make_(e,t,r,n):((null==(a=this.options_)?void 0:a.autoBind)?Bt.bound:Bt).make_(e,t,r,n);var l,c=!1===(null==(i=this.options_)?void 0:i.deep)?Fe.ref:Fe;"function"==typeof r.value&&(null==(o=this.options_)?void 0:o.autoBind)&&(r.value=r.value.bind(null!=(l=e.proxy_)?l:e.target_));return c.make_(e,t,r,n)}function Ie(e,t,r,n){var i,o,a;if(r.get)return He.extend_(e,t,r,n);if(r.set)return e.defineProperty_(t,{configurable:!Pt.safeDescriptors||e.isPlainObject_,set:Xe(t.toString(),r.set)},n);"function"==typeof r.value&&(null==(i=this.options_)?void 0:i.autoBind)&&(r.value=r.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?Fe.ref:Fe).extend_(e,t,r,n)}var De={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Ce(e){return e||De}Object.freeze(De);var ke=Pe("observable"),Ne=Pe("observable.ref",{enhancer:fe}),xe=Pe("observable.shallow",{enhancer:function(e,t,r){return null==e||Jr(e)||Rr(e)||Br(e)||Gr(e)?e:Array.isArray(e)?Fe.array(e,{name:r,deep:!1}):L(e)?Fe.object(e,void 0,{name:r,deep:!1}):B(e)?Fe.map(e,{name:r,deep:!1}):K(e)?Fe.set(e,{name:r,deep:!1}):void 0}}),Ve=Pe("observable.struct",{enhancer:function(e,t){return pn(e,t)?t:e}}),Re=ne(ke);function Le(e){return!0===e.deep?ce:!1===e.deep?fe:(t=e.defaultDecorator)&&null!=(r=null==(n=t.options_)?void 0:n.enhancer)?r:ce;var t,r,n}function Me(e,t,r){if(!V(t))return ur(e)?e:L(e)?Fe.object(e,t,r):Array.isArray(e)?Fe.array(e,t):B(e)?Fe.map(e,t):K(e)?Fe.set(e,t):"object"==typeof e&&null!==e?e:Fe.box(e,t);ie(e,t,ke)}Object.assign(Me,Re);var Ue,ze,Fe=P(Me,{box:function(e,t){var r=Ce(t);return new tt(e,Le(r),r.name,!0,r.equals)},array:function(e,t){var r=Ce(t);return(!1===Pt.useProxies||!1===r.proxy?un:Ar)(e,Le(r),r.name)},map:function(e,t){var r=Ce(t);return new Fr(e,Le(r),r.name)},set:function(e,t){var r=Ce(t);return new Hr(e,Le(r),r.name)},object:function(e,t,r){return function(e,t,r,n){var i=q(t),o=qr(e,n)[oe];At();try{G(i).forEach((function(e){o.extend_(e,i[e],!r||(!(e in r)||r[e]))}))}finally{Tt()}return e}(!1===Pt.useProxies||!1===(null==r?void 0:r.proxy)?qr({},r):function(e,t){var r,n;return C(),e=qr(e,t),null!=(n=(r=e[oe]).proxy_)?n:r.proxy_=new Proxy(e,vr)}({},r),e,t)},ref:ne(Ne),shallow:ne(xe),deep:Re,struct:ne(Ve)}),Be=_e("computed"),Ke=_e("computed.struct",{equals:le.structural}),He=function(e,t){if(V(t))return ie(e,t,Be);if(L(e))return ne(_e("computed",e));var r=L(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new ut(r)};Object.assign(He,Be),He.struct=ne(Ke);var Ge,$e=0,We=1,qe=null!=(Ue=null==(ze=j((function(){}),"name"))?void 0:ze.configurable)&&Ue,Ye={value:"action",configurable:!0,writable:!1,enumerable:!1};function Xe(e,t,r,n){function i(){return Je(e,r,t,n||this,arguments)}return void 0===r&&(r=!1),i.isMobxAction=!0,qe&&(Ye.value=e,Object.defineProperty(i,"name",Ye)),i}function Je(e,t,r,n,i){var o=function(e,t,r,n){var i=!1,o=0,a=Pt.trackingDerivation,u=!t||!a;At();var s=Pt.allowStateChanges;u&&(bt(),s=Ze(!0));var l=yt(!0),c={runAsAction_:u,prevDerivation_:a,prevAllowStateChanges_:s,prevAllowStateReads_:l,notifySpy_:i,startTime_:o,actionId_:We++,parentActionId_:$e};return $e=c.actionId_,c}(0,t);try{return r.apply(n,i)}catch(a){throw o.error_=a,a}finally{!function(e){$e!==e.actionId_&&_(30);$e=e.parentActionId_,void 0!==e.error_&&(Pt.suppressReactionErrors=!0);Qe(e.prevAllowStateChanges_),gt(e.prevAllowStateReads_),Tt(),e.runAsAction_&&vt(e.prevDerivation_);Pt.suppressReactionErrors=!1}(o)}}function Ze(e){var t=Pt.allowStateChanges;return Pt.allowStateChanges=e,t}function Qe(e){Pt.allowStateChanges=e}Ge=Symbol.toPrimitive;var et,tt=function(e){function t(t,r,n,i,o){var a;return void 0===n&&(n="ObservableValue"),void 0===o&&(o=le.default),(a=e.call(this,n)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=r,a.name_=n,a.equals=o,a.value_=r(t,void 0,n),a}Z(t,e);var r=t.prototype;return r.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==Pt.UNCHANGED&&this.setNewValue_(e)},r.prepareNewValue_=function(e){if(yr(this)){var t=mr(this,{object:this,type:jr,newValue:e});if(!t)return Pt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?Pt.UNCHANGED:e},r.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),_r(this)&&wr(this,{type:jr,object:this,newValue:e,oldValue:t})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(e){return gr(this,e)},r.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:jr,newValue:this.value_,oldValue:void 0}),Or(this,e)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return $(this.get())},r[Ge]=function(){return this.valueOf()},t}(ae),rt=F("ObservableValue",tt);et=Symbol.toPrimitive;var nt,it,ot,at,ut=function(){function e(e){this.dependenciesState_=nt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=nt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new lt(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ot.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||_(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Xe("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?le.structural:le.default),this.scope_=e.context,this.requiresReaction_=!!e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==nt.UP_TO_DATE_)return;e.lowestObserverState_=nt.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===nt.UP_TO_DATE_&&(e.dependenciesState_=nt.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&_(32,this.name_,this.derivation),0!==Pt.inBatch||0!==this.observers_.size||this.keepAlive_){if(It(this),ft(this)){var e=Pt.trackingContext;this.keepAlive_&&!e&&(Pt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===nt.STALE_)return;e.lowestObserverState_=nt.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===nt.POSSIBLY_STALE_?t.dependenciesState_=nt.STALE_:t.dependenciesState_===nt.UP_TO_DATE_&&(e.lowestObserverState_=nt.UP_TO_DATE_)}))}(this),Pt.trackingContext=e}}else ft(this)&&(this.warnAboutUntrackedRead_(),At(),this.value_=this.computeValue_(!1),Tt());var t=this.value_;if(ct(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&_(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else _(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===nt.NOT_TRACKING_,r=this.computeValue_(!0),n=t||ct(e)||ct(r)||!this.equals_(e,r);return n&&(this.value_=r),n},t.computeValue_=function(e){this.isComputing_=!0;var t,r=Ze(!1);if(e)t=pt(this,this.derivation,this.scope_);else if(!0===Pt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(n){t=new lt(n)}return Qe(r),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(dt(this),this.value_=void 0)},t.observe_=function(e,t){var r=this,n=!0,i=void 0;return function(e,t){var r,n;void 0===t&&(t=T);var i,o=null!=(r=null==(n=t)?void 0:n.name)?r:"Autorun";if(t.scheduler||t.delay){var a=$t(t),u=!1;i=new Ct(o,(function(){u||(u=!0,a((function(){u=!1,i.isDisposed_||i.track(s)})))}),t.onError,t.requiresObservable)}else i=new Ct(o,(function(){this.track(s)}),t.onError,t.requiresObservable);function s(){e(i)}return i.schedule_(),i.getDisposer_()}((function(){var o=r.get();if(!n||t){var a=bt();e({observableKind:"computed",debugObjectName:r.name_,type:jr,object:r,newValue:o,oldValue:i}),vt(a)}n=!1,i=o}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return $(this.get())},t[et]=function(){return this.valueOf()},e}(),st=F("ComputedValue",ut);(it=nt||(nt={}))[it.NOT_TRACKING_=-1]="NOT_TRACKING_",it[it.UP_TO_DATE_=0]="UP_TO_DATE_",it[it.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",it[it.STALE_=2]="STALE_",(at=ot||(ot={}))[at.NONE=0]="NONE",at[at.LOG=1]="LOG",at[at.BREAK=2]="BREAK";var lt=function(e){this.cause=void 0,this.cause=e};function ct(e){return e instanceof lt}function ft(e){switch(e.dependenciesState_){case nt.UP_TO_DATE_:return!1;case nt.NOT_TRACKING_:case nt.STALE_:return!0;case nt.POSSIBLY_STALE_:for(var t=yt(!0),r=bt(),n=e.observing_,i=n.length,o=0;o<i;o++){var a=n[o];if(st(a)){if(Pt.disableErrorBoundaries)a.get();else try{a.get()}catch(u){return vt(r),gt(t),!0}if(e.dependenciesState_===nt.STALE_)return vt(r),gt(t),!0}}return mt(e),vt(r),gt(t),!1}}function pt(e,t,r){var n=yt(!0);mt(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Pt.runId;var i,o=Pt.trackingDerivation;if(Pt.trackingDerivation=e,Pt.inBatch++,!0===Pt.disableErrorBoundaries)i=t.call(r);else try{i=t.call(r)}catch(a){i=new lt(a)}return Pt.inBatch--,Pt.trackingDerivation=o,function(e){for(var t=e.observing_,r=e.observing_=e.newObserving_,n=nt.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var u=r[a];0===u.diffValue_&&(u.diffValue_=1,i!==a&&(r[i]=u),i++),u.dependenciesState_>n&&(n=u.dependenciesState_)}r.length=i,e.newObserving_=null,o=t.length;for(;o--;){var s=t[o];0===s.diffValue_&&St(s,e),s.diffValue_=0}for(;i--;){var l=r[i];1===l.diffValue_&&(l.diffValue_=0,jt(l,e))}n!==nt.UP_TO_DATE_&&(e.dependenciesState_=n,e.onBecomeStale_())}(e),gt(n),i}function dt(e){var t=e.observing_;e.observing_=[];for(var r=t.length;r--;)St(t[r],e);e.dependenciesState_=nt.NOT_TRACKING_}function ht(e){var t=bt();try{return e()}finally{vt(t)}}function bt(){var e=Pt.trackingDerivation;return Pt.trackingDerivation=null,e}function vt(e){Pt.trackingDerivation=e}function yt(e){var t=Pt.allowStateReads;return Pt.allowStateReads=e,t}function gt(e){Pt.allowStateReads=e}function mt(e){if(e.dependenciesState_!==nt.UP_TO_DATE_){e.dependenciesState_=nt.UP_TO_DATE_;for(var t=e.observing_,r=t.length;r--;)t[r].lowestObserverState_=nt.UP_TO_DATE_}}var _t=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ot=!0,wt=!1,Pt=function(){var e=w();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ot=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new _t).version&&(Ot=!1),Ot?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new _t):(setTimeout((function(){wt||_(35)}),1),new _t)}();function jt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function St(e,t){e.observers_.delete(t),0===e.observers_.size&&Et(e)}function Et(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Pt.pendingUnobservations.push(e))}function At(){Pt.inBatch++}function Tt(){if(0==--Pt.inBatch){Nt();for(var e=Pt.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation_=!1,0===r.observers_.size&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof ut&&r.suspend_())}Pt.pendingUnobservations=[]}}function It(e){var t=Pt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Pt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&Pt.inBatch>0&&Et(e),!1)}function Dt(e){e.lowestObserverState_!==nt.STALE_&&(e.lowestObserverState_=nt.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===nt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=nt.STALE_})))}var Ct=function(){function e(e,t,r,n){void 0===e&&(e="Reaction"),void 0===n&&(n=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=nt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=ot.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=r,this.requiresObservable_=n}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Pt.pendingReactions.push(this),Nt())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){At(),this.isScheduled_=!1;var e=Pt.trackingContext;if(Pt.trackingContext=this,ft(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}Pt.trackingContext=e,Tt()}},t.track=function(e){if(!this.isDisposed_){At(),this.isRunning_=!0;var t=Pt.trackingContext;Pt.trackingContext=this;var r=pt(this,e,void 0);Pt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&dt(this),ct(r)&&this.reportExceptionInDerivation_(r.cause),Tt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(Pt.disableErrorBoundaries)throw e;var r="[mobx] uncaught error in '"+this+"'";Pt.suppressReactionErrors||console.error(r,e),Pt.globalReactionErrorHandlers.forEach((function(r){return r(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(At(),dt(this),Tt()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[oe]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){_("trace() is not available in production builds");for(var e=!1,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];"boolean"==typeof r[r.length-1]&&(e=r.pop());var i=dr(r);if(!i)return _("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===ot.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled");i.isTracing_=e?ot.BREAK:ot.LOG}(this,e)},e}(),kt=function(e){return e()};function Nt(){Pt.inBatch>0||Pt.isRunningReactions||kt(xt)}function xt(){Pt.isRunningReactions=!0;for(var e=Pt.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}Pt.isRunningReactions=!1}var Vt=F("Reaction",Ct);var Rt=pe("action"),Lt=pe("action.bound",{bound:!0}),Mt=pe("autoAction",{autoAction:!0}),Ut=pe("autoAction.bound",{autoAction:!0,bound:!0});function zt(e){return function(t,r){return x(t)?Xe(t.name||"<unnamed action>",t,e):x(r)?Xe(t,r,e):V(r)?ie(t,r,e?Mt:Rt):V(t)?ne(pe(e?"autoAction":"action",{name:t,autoAction:e})):void 0}}var Ft=zt(!1);Object.assign(Ft,Rt);var Bt=zt(!0);function Kt(e){return Je(e.name,!1,e,this,void 0)}function Ht(e){return x(e)&&!0===e.isMobxAction}Object.assign(Bt,Mt),Ft.bound=ne(Lt),Bt.bound=ne(Ut);var Gt=function(e){return e()};function $t(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Gt}function Wt(e,t,r){var n;void 0===r&&(r=T);var i,o,a,u=null!=(n=r.name)?n:"Reaction",s=Ft(u,r.onError?(i=r.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){i.call(this,e)}}):t),l=!r.scheduler&&!r.delay,c=$t(r),f=!0,p=!1,d=void 0,h=r.compareStructural?le.structural:r.equals||le.default,b=new Ct(u,(function(){f||l?v():p||(p=!0,c(v))}),r.onError,r.requiresObservable);function v(){if(p=!1,!b.isDisposed_){var t=!1;b.track((function(){var r=function(e,t){var r=Ze(e);try{return t()}finally{Qe(r)}}(!1,(function(){return e(b)}));t=f||!h(a,r),d=a,a=r})),(f&&r.fireImmediately||!f&&t)&&s(a,d,b),f=!1}}return b.schedule_(),b.getDisposer_()}function qt(e,t,r){return Yt("onBUO",e,t,r)}function Yt(e,t,r,n){var i="function"==typeof n?sn(t,r):sn(t),o=x(n)?n:r,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}function Xt(e){!0===e.isolateGlobalState&&function(){if((Pt.pendingReactions.length||Pt.inBatch||Pt.isRunningReactions)&&_(36),wt=!0,Ot){var e=w();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Pt=new _t}}();var t,r,n=e.useProxies,i=e.enforceActions;if(void 0!==n&&(Pt.useProxies="always"===n||"never"!==n&&"undefined"!=typeof Proxy),"ifavailable"===n&&(Pt.verifyProxies=!0),void 0!==i){var o="always"===i?"always":"observed"===i;Pt.enforceActions=o,Pt.allowStateChanges=!0!==o&&"always"!==o}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Pt[t]=!!e[t])})),Pt.allowStateReads=!Pt.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,r=kt,kt=function(e){return t((function(){return r(e)}))})}function Jt(e){var t,r={name:e.name_};return e.observing_&&e.observing_.length>0&&(r.dependencies=(t=e.observing_,Array.from(new Set(t))).map(Jt)),r}var Zt=0;function Qt(){this.message="FLOW_CANCELLED"}Qt.prototype=Object.create(Error.prototype);var er=ve("flow"),tr=ve("flow.bound",{bound:!0}),rr=Object.assign((function(e,t){if(V(t))return ie(e,t,er);var r=e,n=r.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,o=++Zt,a=Ft(n+" - runid: "+o+" - init",r).apply(t,i),u=void 0,s=new Promise((function(t,r){var i=0;function s(e){var t;u=void 0;try{t=Ft(n+" - runid: "+o+" - yield "+i++,a.next).call(a,e)}catch(s){return r(s)}c(t)}function l(e){var t;u=void 0;try{t=Ft(n+" - runid: "+o+" - yield "+i++,a.throw).call(a,e)}catch(s){return r(s)}c(t)}function c(e){if(!x(null==e?void 0:e.then))return e.done?t(e.value):(u=Promise.resolve(e.value)).then(s,l);e.then(c,r)}e=r,s(void 0)}));return s.cancel=Ft(n+" - runid: "+o+" - cancel",(function(){try{u&&nr(u);var t=a.return(void 0),r=Promise.resolve(t.value);r.then(N,N),nr(r),e(new Qt)}catch(n){e(n)}})),s};return i.isMobXFlow=!0,i}),er);function nr(e){x(e.cancel)&&e.cancel()}function ir(e){return!0===(null==e?void 0:e.isMobXFlow)}function or(e,t,r){var n;return Br(e)||Rr(e)||rt(e)?n=ln(e):Jr(e)&&(n=ln(e,t)),n.dehancer="function"==typeof t?t:r,function(){n.dehancer=void 0}}function ar(e,t,r){return x(r)?function(e,t,r){return ln(e,t).intercept_(r)}(e,t,r):function(e,t){return ln(e).intercept_(t)}(e,t)}function ur(e){return function(e,t){return!!e&&(void 0!==t?!!Jr(e)&&e[oe].values_.has(t):Jr(e)||!!e[oe]||ue(e)||Vt(e)||st(e))}(e)}function sr(e){return Jr(e)?e[oe].keys_():Br(e)||Gr(e)?Array.from(e.keys()):Rr(e)?e.map((function(e,t){return t})):void _(5)}function lr(e){return Jr(e)?sr(e).map((function(t){return e[t]})):Br(e)?sr(e).map((function(t){return e.get(t)})):Gr(e)?Array.from(e.values()):Rr(e)?e.slice():void _(6)}function cr(e,t,r){if(2!==arguments.length||Gr(e))Jr(e)?e[oe].set_(t,r):Br(e)?e.set(t,r):Gr(e)?e.add(t):Rr(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&_("Invalid index: '"+t+"'"),At(),t>=e.length&&(e.length=t+1),e[t]=r,Tt()):_(8);else{At();var n=t;try{for(var i in n)cr(e,i,n[i])}finally{Tt()}}}function fr(e,t,r){if(Jr(e))return e[oe].defineProperty_(t,r);_(39)}function pr(e,t,r,n){return x(r)?function(e,t,r,n){return ln(e,t).observe_(r,n)}(e,t,r,n):function(e,t,r){return ln(e).observe_(t,r)}(e,t,r)}function dr(e){switch(e.length){case 0:return Pt.trackingDerivation;case 1:return sn(e[0]);case 2:return sn(e[0],e[1])}}function hr(e,t){void 0===t&&(t=void 0),At();try{return e.apply(t)}finally{Tt()}}function br(e){return e[oe]}rr.bound=ne(tr);var vr={has:function(e,t){return br(e).has_(t)},get:function(e,t){return br(e).get_(t)},set:function(e,t,r){var n;return!!V(t)&&(null==(n=br(e).set_(t,r,!0))||n)},deleteProperty:function(e,t){var r;return!!V(t)&&(null==(r=br(e).delete_(t,!0))||r)},defineProperty:function(e,t,r){var n;return null==(n=br(e).defineProperty_(t,r))||n},ownKeys:function(e){return br(e).ownKeys_()},preventExtensions:function(e){_(13)}};function yr(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function gr(e,t){var r=e.interceptors_||(e.interceptors_=[]);return r.push(t),k((function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}))}function mr(e,t){var r=bt();try{for(var n=[].concat(e.interceptors_||[]),i=0,o=n.length;i<o&&((t=n[i](t))&&!t.type&&_(14),t);i++);return t}finally{vt(r)}}function _r(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Or(e,t){var r=e.changeListeners_||(e.changeListeners_=[]);return r.push(t),k((function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}))}function wr(e,t){var r=bt(),n=e.changeListeners_;if(n){for(var i=0,o=(n=n.slice()).length;i<o;i++)n[i](t);vt(r)}}function Pr(e,t,r){var n=qr(e,r)[oe];At();try{null!=t||(t=function(e){return W(e,re)||U(e,re,J({},e[re])),e[re]}(e)),G(t).forEach((function(e){return n.make_(e,t[e])}))}finally{Tt()}return e}var jr="update",Sr={get:function(e,t){var r=e[oe];return t===oe?r:"length"===t?r.getArrayLength_():"string"!=typeof t||isNaN(t)?W(Tr,t)?Tr[t]:e[t]:r.get_(parseInt(t))},set:function(e,t,r){var n=e[oe];return"length"===t&&n.setArrayLength_(r),"symbol"==typeof t||isNaN(t)?e[t]=r:n.set_(parseInt(t),r),!0},preventExtensions:function(){_(15)}},Er=function(){function e(e,t,r,n){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=n,this.atom_=new ae(e),this.enhancer_=function(e,r){return t(e,r,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return gr(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Or(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||e<0)&&_("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var r=new Array(e-t),n=0;n<e-t;n++)r[n]=void 0;this.spliceWithArray_(t,0,r)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&_(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&an(e+t+1)},t.spliceWithArray_=function(e,t,r){var n=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===r&&(r=A),yr(this)){var o=mr(this,{object:this.proxy_,type:"splice",index:e,removedCount:t,added:r});if(!o)return A;t=o.removedCount,r=o.added}if(r=0===r.length?r:r.map((function(e){return n.enhancer_(e,void 0)})),this.legacyMode_){var a=r.length-t;this.updateArrayLength_(i,a)}var u=this.spliceItemsIntoValues_(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice_(e,r,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(e,t,r){var n;if(r.length<1e4)return(n=this.values_).splice.apply(n,[e,t].concat(r));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length=e+r.length-t;for(var a=0;a<r.length;a++)this.values_[e+a]=r[a];for(var u=0;u<o.length;u++)this.values_[e+r.length+u]=o[u];return i},t.notifyArrayChildUpdate_=function(e,t,r){var n=!this.owned_&&!1,i=_r(this),o=i||n?{observableKind:"array",object:this.proxy_,type:jr,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:r}:null;this.atom_.reportChanged(),i&&wr(this,o)},t.notifyArraySplice_=function(e,t,r){var n=!this.owned_&&!1,i=_r(this),o=i||n?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&wr(this,o)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var r=this.values_;if(e<r.length){this.atom_;var n=r[e];if(yr(this)){var i=mr(this,{type:jr,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,n))!==n&&(r[e]=t,this.notifyArrayChildUpdate_(e,t,n))}else e===r.length?this.spliceWithArray_(e,0,[t]):_(17,e,r.length)},e}();function Ar(e,t,r,n){void 0===r&&(r="ObservableArray"),void 0===n&&(n=!1),C();var i=new Er(r,t,n,!1);z(i.values_,oe,i);var o=new Proxy(i.values_,Sr);if(i.proxy_=o,e&&e.length){var a=Ze(!0);i.spliceWithArray_(0,0,e),Qe(a)}return o}var Tr={clear:function(){return this.splice(0)},replace:function(e){var t=this[oe];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o=this[oe];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,n)},spliceWithArray:function(e,t,r){return this[oe].spliceWithArray_(e,t,r)},push:function(){for(var e=this[oe],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[oe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[oe],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return Pt.trackingDerivation&&_(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Pt.trackingDerivation&&_(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[oe],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1&&(this.splice(r,1),!0)}};function Ir(e,t){"function"==typeof Array.prototype[e]&&(Tr[e]=t(e))}function Dr(e){return function(){var t=this[oe];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_);return r[e].apply(r,arguments)}}function Cr(e){return function(t,r){var n=this,i=this[oe];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(r,e,i,n)}))}}function kr(e){return function(){var t=this,r=this[oe];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(e,r,n){return i(e,r,n,t)},n[e].apply(n,arguments)}}Ir("concat",Dr),Ir("flat",Dr),Ir("includes",Dr),Ir("indexOf",Dr),Ir("join",Dr),Ir("lastIndexOf",Dr),Ir("slice",Dr),Ir("toString",Dr),Ir("toLocaleString",Dr),Ir("every",Cr),Ir("filter",Cr),Ir("find",Cr),Ir("findIndex",Cr),Ir("flatMap",Cr),Ir("forEach",Cr),Ir("map",Cr),Ir("some",Cr),Ir("reduce",kr),Ir("reduceRight",kr);var Nr,xr,Vr=F("ObservableArrayAdministration",Er);function Rr(e){return R(e)&&Vr(e[oe])}var Lr={},Mr="add";Nr=Symbol.iterator,xr=Symbol.toStringTag;var Ur,zr,Fr=function(){function e(e,t,r){void 0===t&&(t=ce),void 0===r&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[oe]=Lr,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=r,x(Map)||_(18),this.keysAtom_=se("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(e)}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!Pt.trackingDerivation)return this.has_(e);var r=this.hasMap_.get(e);if(!r){var n=r=new tt(this.has_(e),fe,"ObservableMap.key?",!1);this.hasMap_.set(e,n),qt(n,(function(){return t.hasMap_.delete(e)}))}return r.get()},t.set=function(e,t){var r=this.has_(e);if(yr(this)){var n=mr(this,{type:r?jr:Mr,object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return r?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,yr(this))&&!mr(this,{type:"delete",object:this,name:e}))return!1;if(this.has_(e)){var r=_r(this),n=r?{observableKind:"map",debugObjectName:this.name_,type:"delete",object:this,oldValue:this.data_.get(e).value_,name:e}:null;return hr((function(){t.keysAtom_.reportChanged(),t.updateHasMapEntry_(e,!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),r&&wr(this,n),!0}return!1},t.updateHasMapEntry_=function(e,t){var r=this.hasMap_.get(e);r&&r.setNewValue_(t)},t.updateValue_=function(e,t){var r=this.data_.get(e);if((t=r.prepareNewValue_(t))!==Pt.UNCHANGED){var n=_r(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:jr,object:this,oldValue:r.value_,name:e,newValue:t}:null;r.setNewValue_(t),n&&wr(this,i)}},t.addValue_=function(e,t){var r=this;this.keysAtom_,hr((function(){var n=new tt(t,r.enhancer_,"ObservableMap.key",!1);r.data_.set(e,n),t=n.value_,r.updateHasMapEntry_(e,!0),r.keysAtom_.reportChanged()}));var n=_r(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:Mr,object:this,name:e,newValue:t}:null;n&&wr(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return bn({next:function(){var r=t.next(),n=r.done,i=r.value;return{done:n,value:n?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return bn({next:function(){var r=t.next(),n=r.done,i=r.value;return{done:n,value:n?void 0:[i,e.get(i)]}}})},t[Nr]=function(){return this.entries()},t.forEach=function(e,t){for(var r,n=te(this);!(r=n()).done;){var i=r.value,o=i[0],a=i[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return Br(e)&&(e=new Map(e)),hr((function(){L(e)?function(e){var t=Object.keys(e);if(!H)return t;var r=Object.getOwnPropertySymbols(e);return r.length?[].concat(t,r.filter((function(t){return E.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(r){return t.set(r,e[r])})):Array.isArray(e)?e.forEach((function(e){var r=e[0],n=e[1];return t.set(r,n)})):B(e)?(e.constructor!==Map&&_(19,e),e.forEach((function(e,r){return t.set(r,e)}))):null!=e&&_(20,e)})),this},t.clear=function(){var e=this;hr((function(){ht((function(){for(var t,r=te(e.keys());!(t=r()).done;){var n=t.value;e.delete(n)}}))}))},t.replace=function(e){var t=this;return hr((function(){for(var r,n=function(e){if(B(e)||Br(e))return e;if(Array.isArray(e))return new Map(e);if(L(e)){var t=new Map;for(var r in e)t.set(r,e[r]);return t}return _(21,e)}(e),i=new Map,o=!1,a=te(t.data_.keys());!(r=a()).done;){var u=r.value;if(!n.has(u))if(t.delete(u))o=!0;else{var s=t.data_.get(u);i.set(u,s)}}for(var l,c=te(n.entries());!(l=c()).done;){var f=l.value,p=f[0],d=f[1],h=t.data_.has(p);if(t.set(p,d),t.data_.has(p)){var b=t.data_.get(p);i.set(p,b),h||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),y=i.keys(),g=v.next(),m=y.next();!g.done;){if(g.value!==m.value){t.keysAtom_.reportChanged();break}g=v.next(),m=y.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return Or(this,e)},t.intercept_=function(e){return gr(this,e)},X(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:xr,get:function(){return"Map"}}]),e}(),Br=F("ObservableMap",Fr);var Kr={};Ur=Symbol.iterator,zr=Symbol.toStringTag;var Hr=function(){function e(e,t,r){void 0===t&&(t=ce),void 0===r&&(r="ObservableSet"),this.name_=void 0,this[oe]=Kr,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,x(Set)||_(22),this.atom_=se(this.name_),this.enhancer_=function(e,n){return t(e,n,r)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;hr((function(){ht((function(){for(var t,r=te(e.data_.values());!(t=r()).done;){var n=t.value;e.delete(n)}}))}))},t.forEach=function(e,t){for(var r,n=te(this);!(r=n()).done;){var i=r.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,yr(this))&&!mr(this,{type:Mr,object:this,newValue:e}))return this;if(!this.has(e)){hr((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var r=_r(this),n=r?{observableKind:"set",debugObjectName:this.name_,type:Mr,object:this,newValue:e}:null;r&&wr(this,n)}return this},t.delete=function(e){var t=this;if(yr(this)&&!mr(this,{type:"delete",object:this,oldValue:e}))return!1;if(this.has(e)){var r=_r(this),n=r?{observableKind:"set",debugObjectName:this.name_,type:"delete",object:this,oldValue:e}:null;return hr((function(){t.atom_.reportChanged(),t.data_.delete(e)})),r&&wr(this,n),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),r=Array.from(this.values());return bn({next:function(){var n=e;return e+=1,n<r.length?{value:[t[n],r[n]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,r=Array.from(this.data_.values());return bn({next:function(){return t<r.length?{value:e.dehanceValue_(r[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return Gr(e)&&(e=new Set(e)),hr((function(){Array.isArray(e)||K(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&_("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return Or(this,e)},t.intercept_=function(e){return gr(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Ur]=function(){return this.values()},X(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:zr,get:function(){return"Set"}}]),e}(),Gr=F("ObservableSet",Hr),$r=Object.create(null),Wr=function(){function e(e,t,r,n){void 0===t&&(t=new Map),void 0===n&&(n=Ee),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=r,this.defaultAnnotation_=n,this.keysAtom_=new ae("ObservableObject.keys"),this.isPlainObject_=L(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var r=this.values_.get(e);if(r instanceof ut)return r.set(t),!0;if(yr(this)){var n=mr(this,{type:jr,object:this.proxy_||this.target_,name:e,newValue:t});if(!n)return null;t=n.newValue}if((t=r.prepareNewValue_(t))!==Pt.UNCHANGED){var i=_r(this),o=i?{type:jr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:e,newValue:t}:null;r.setNewValue_(t),i&&wr(this,o)}return!0},t.get_=function(e){return Pt.trackingDerivation&&!W(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,r){return void 0===r&&(r=!1),W(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):r?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},t.has_=function(e){if(!Pt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new tt(e in this.target_,fe,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var r;if(null==(r=this.target_[re])?void 0:r[e])return;_(1,t.annotationType_,this.name_+"."+e.toString())}for(var n=this.target_;n&&n!==E;){var i=j(n,e);if(i){var o=t.make_(this,e,i,n);if(0===o)return;if(1===o)break}n=Object.getPrototypeOf(n)}Zr(this,t,e)}},t.extend_=function(e,t,r,n){if(void 0===n&&(n=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(e,t,n);var i=r.extend_(this,e,t,n);return i&&Zr(this,r,e),i},t.defineProperty_=function(e,t,r){void 0===r&&(r=!1);try{At();var n=this.delete_(e);if(!n)return n;if(yr(this)){var i=mr(this,{object:this.proxy_||this.target_,name:e,type:Mr,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=J({},t,{value:o}))}if(r){if(!Reflect.defineProperty(this.target_,e,t))return!1}else S(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Tt()}return!0},t.defineObservableProperty_=function(e,t,r,n){void 0===n&&(n=!1);try{At();var i=this.delete_(e);if(!i)return i;if(yr(this)){var o=mr(this,{object:this.proxy_||this.target_,name:e,type:Mr,newValue:t});if(!o)return null;t=o.newValue}var a=Xr(e),u={configurable:!Pt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(n){if(!Reflect.defineProperty(this.target_,e,u))return!1}else S(this.target_,e,u);var s=new tt(t,r,"ObservableObject.key",!1);this.values_.set(e,s),this.notifyPropertyAddition_(e,s.value_)}finally{Tt()}return!0},t.defineComputedProperty_=function(e,t,r){void 0===r&&(r=!1);try{At();var n=this.delete_(e);if(!n)return n;if(yr(this))if(!mr(this,{object:this.proxy_||this.target_,name:e,type:Mr,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Xr(e),o={configurable:!Pt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(r){if(!Reflect.defineProperty(this.target_,e,o))return!1}else S(this.target_,e,o);this.values_.set(e,new ut(t)),this.notifyPropertyAddition_(e,void 0)}finally{Tt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!W(this.target_,e))return!0;if(yr(this)&&!mr(this,{object:this.proxy_||this.target_,name:e,type:"remove"}))return null;try{var r,n;At();var i,o=_r(this),a=this.values_.get(e),u=void 0;if(!a&&o)u=null==(i=j(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof tt&&(u=a.value_),Dt(a)),this.keysAtom_.reportChanged(),null==(r=this.pendingKeys_)||null==(n=r.get(e))||n.set(e in this.target_),o){var s={type:"remove",observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:e};0,o&&wr(this,s)}}finally{Tt()}return!0},t.observe_=function(e,t){return Or(this,e)},t.intercept_=function(e){return gr(this,e)},t.notifyPropertyAddition_=function(e,t){var r,n,i=_r(this);if(i){var o=i?{type:Mr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&wr(this,o)}null==(r=this.pendingKeys_)||null==(n=r.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),G(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function qr(e,t){var r;if(W(e,oe))return e;var n=null!=(r=null==t?void 0:t.name)?r:"ObservableObject",i=new Wr(e,new Map,String(n),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Ae(e):void 0}(t));return U(e,oe,i),e}var Yr=F("ObservableObjectAdministration",Wr);function Xr(e){return $r[e]||($r[e]={get:function(){return this[oe].getObservablePropValue_(e)},set:function(t){return this[oe].setObservablePropValue_(e,t)}})}function Jr(e){return!!R(e)&&Yr(e[oe])}function Zr(e,t,r){var n;null==(n=e.target_[re])||delete n[r]}var Qr,en,tn=0,rn=function(){};Qr=rn,en=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Qr.prototype,en):void 0!==Qr.prototype.__proto__?Qr.prototype.__proto__=en:Qr.prototype=en;var nn=function(e){function t(t,r,n,i){var o;void 0===n&&(n="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this;var a=new Er(n,r,i,!0);if(a.proxy_=Q(o),z(Q(o),oe,a),t&&t.length){var u=Ze(!0);o.spliceWithArray(0,0,t),Qe(u)}return o}Z(t,e);var r=t.prototype;return r.concat=function(){this[oe].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Rr(e)?e.slice():e})))},r[Symbol.iterator]=function(){var e=this,t=0;return bn({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},X(t,[{key:"length",get:function(){return this[oe].getArrayLength_()},set:function(e){this[oe].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),t}(rn);function on(e){S(nn.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[oe].get_(e)},set:function(t){this[oe].set_(e,t)}}}(e))}function an(e){if(e>tn){for(var t=tn;t<e+100;t++)on(t);tn=e}}function un(e,t,r){return new nn(e,t,r)}function sn(e,t){if("object"==typeof e&&null!==e){if(Rr(e))return void 0!==t&&_(23),e[oe].atom_;if(Gr(e))return e[oe];if(Br(e)){if(void 0===t)return e.keysAtom_;var r=e.data_.get(t)||e.hasMap_.get(t);return r||_(25,t,cn(e)),r}if(Jr(e)){if(!t)return _(26);var n=e[oe].values_.get(t);return n||_(27,t,cn(e)),n}if(ue(e)||st(e)||Vt(e))return e}else if(x(e)&&Vt(e[oe]))return e[oe];_(28)}function ln(e,t){return e||_(29),void 0!==t?ln(sn(e,t)):ue(e)||st(e)||Vt(e)||Br(e)||Gr(e)?e:e[oe]?e[oe]:void _(24,e)}function cn(e,t){var r;if(void 0!==t)r=sn(e,t);else{if(Ht(e))return e.name;r=Jr(e)||Br(e)||Gr(e)?ln(e):sn(e)}return r.name_}Object.entries(Tr).forEach((function(e){var t=e[0],r=e[1];"concat"!==t&&U(nn.prototype,t,r)})),an(1e3);var fn=E.toString;function pn(e,t,r){return void 0===r&&(r=-1),dn(e,t,r)}function dn(e,t,r,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if(!x(o)&&"object"!==o&&"object"!=typeof t)return!1;var a=fn.call(e);if(a!==fn.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":r>=0&&r++}e=hn(e),t=hn(t);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,l=t.constructor;if(s!==l&&!(x(s)&&s instanceof s&&x(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===r)return!1;r<0&&(r=-1),i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),u){if((c=e.length)!==t.length)return!1;for(;c--;)if(!dn(e[c],t[c],r-1,n,i))return!1}else{var f,p=Object.keys(e);if(c=p.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!W(t,f=p[c])||!dn(e[f],t[f],r-1,n,i))return!1}return n.pop(),i.pop(),!0}function hn(e){return Rr(e)?e.slice():B(e)||Br(e)||K(e)||Gr(e)?Array.from(e.entries()):e}function bn(e){return e[Symbol.iterator]=vn,e}function vn(){return this}if(["Symbol","Map","Set","Symbol"].forEach((function(e){void 0===w()[e]&&_("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:cn},$mobx:oe}),!s.exports.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Pr)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function yn(e){e()}var gn=[];function mn(){var e=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(u){i={error:u}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(s.exports.useState(0),2)[1];return s.exports.useCallback((function(){e((function(e){return e+1}))}),gn)}function _n(e){return Jt(sn(e,t));var t}var On="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function wn(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+Pn}}var Pn=1e4;var jn,Sn,En,An,Tn=On?(jn=On,Sn=new Map,En=1,An=new jn((function(e){var t=Sn.get(e);t&&(t.reaction.dispose(),Sn.delete(e))})),{addReactionToTrack:function(e,t,r){var n=En++;return An.register(r,n,e),e.current=wn(t),e.current.finalizationRegistryCleanupToken=n,Sn.set(n,e.current),e.current},recordReactionAsCommitted:function(e){An.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&Sn.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}):function(){var e,t=new Set;function r(){void 0===e&&(e=setTimeout(n,1e4))}function n(){e=void 0;var n=Date.now();t.forEach((function(e){var r=e.current;r&&n>=r.cleanAt&&(r.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&r()}return{addReactionToTrack:function(e,n,i){var o;return e.current=wn(n),o=e,t.add(o),r(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),n())},resetCleanupScheduleForTests:function(){var r,n;if(t.size>0){try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=i.next();!o.done;o=i.next()){var a=o.value,u=a.current;u&&(u.reaction.dispose(),a.current=null)}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),In=Tn.addReactionToTrack,Dn=Tn.recordReactionAsCommitted;function Cn(e){return"observer"+e}var kn=function(){};function Nn(e,t){void 0===t&&(t="observed");var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(u){i={error:u}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(l.useState(new kn),1)[0],n=mn(),i=l.useRef(null);if(!i.current)var o=new Ct(Cn(t),(function(){a.mounted?n():a.changedBeforeMount=!0})),a=In(i,o,r);var u,s,c=i.current.reaction;if(l.useDebugValue(c,_n),l.useEffect((function(){return Dn(i),i.current?(i.current.mounted=!0,i.current.changedBeforeMount&&(i.current.changedBeforeMount=!1,n())):(i.current={reaction:new Ct(Cn(t),(function(){n()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},n()),function(){i.current.reaction.dispose(),i.current=null}}),[]),c.track((function(){try{u=e()}catch(t){s=t}})),s)throw s;return u}var xn=function(){return(xn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Vn(e,t){var r,n,i,o=xn({forwardRef:!1},t),a=e.displayName||e.name,u=function(t,r){return Nn((function(){return e(t,r)}),a)};return u.displayName=a,r=o.forwardRef?s.exports.memo(s.exports.forwardRef(u)):s.exports.memo(u),n=e,i=r,Object.keys(n).forEach((function(e){Ln[e]||Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(n,e))})),r.displayName=a,r}var Rn,Ln={$$typeof:!0,render:!0,compare:!0,type:!0};(Rn=c.exports.unstable_batchedUpdates)||(Rn=yn),Xt({reactionScheduler:Rn});var Mn=s.exports.createContext({dragDropManager:void 0}),Un={exports:{}},zn={},Fn=s.exports,Bn=60103;if(zn.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var Kn=Symbol.for;Bn=Kn("react.element"),zn.Fragment=Kn("react.fragment")}var Hn,Gn,$n=Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wn=Object.prototype.hasOwnProperty,qn={key:!0,ref:!0,__self:!0,__source:!0};function Yn(e,t,r){var n,i={},o=null,a=null;for(n in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(a=t.ref),t)Wn.call(t,n)&&!qn.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:Bn,type:e,key:o,ref:a,props:i,_owner:$n.current}}function Xn(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return n[a++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}zn.jsx=Yn,zn.jsxs=Yn,Un.exports=zn,(Gn=Hn||(Hn={})).SOURCE="SOURCE",Gn.TARGET="TARGET";var Jn="dnd-core/INIT_COORDS",Zn="dnd-core/BEGIN_DRAG",Qn="dnd-core/PUBLISH_DRAG_SOURCE",ei="dnd-core/HOVER",ti="dnd-core/DROP",ri="dnd-core/END_DRAG";function ni(e,t){return{type:Jn,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e,t,r){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:r||null}),e)}function ai(e,t){return e.filter((function(e){return e!==t}))}function ui(e){return"object"===ii(e)}function si(e,t){var r=new Map,n=function(e){r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(n),t.forEach(n);var i=[];return r.forEach((function(e,t){1===e&&i.push(t)})),i}var li={type:Jn,payload:{clientOffset:null,sourceClientOffset:null}};function ci(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},n=r.publishSource,i=void 0===n||n,o=r.clientOffset,a=r.getSourceClientOffset,u=e.getMonitor(),s=e.getRegistry();e.dispatch(ni(o)),fi(t,u,s);var l=hi(t,u);if(null!==l){var c=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");pi(a),c=a(l)}e.dispatch(ni(o,c));var f=s.getSource(l),p=f.beginDrag(u,l);if(null!=p){di(p),s.pinSource(l);var d=s.getSourceType(l);return{type:Zn,payload:{itemType:d,item:p,sourceId:l,clientOffset:o||null,sourceClientOffset:c||null,isSourcePublic:!!i}}}}else e.dispatch(li)}}function fi(e,t,r){Xn(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Xn(r.getSource(e),"Expected sourceIds to be registered.")}))}function pi(e){Xn("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function di(e){Xn(ui(e),"Item must be an object.")}function hi(e,t){for(var r=null,n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function bi(e){return function(){if(e.getMonitor().isDragging())return{type:Qn}}}function vi(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function yi(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clientOffset;gi(t);var i=t.slice(0),o=e.getMonitor(),a=e.getRegistry();mi(i,o,a);var u=o.getItemType();return _i(i,a,u),Oi(i,o,a),{type:ei,payload:{targetIds:i,clientOffset:n||null}}}}function gi(e){Xn(Array.isArray(e),"Expected targetIds to be an array.")}function mi(e,t,r){Xn(t.isDragging(),"Cannot call hover while not dragging."),Xn(!t.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var i=e[n];Xn(e.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array."),Xn(r.getTarget(i),"Expected targetIds to be registered.")}}function _i(e,t,r){for(var n=e.length-1;n>=0;n--){var i=e[n];vi(t.getTargetType(i),r)||e.splice(n,1)}}function Oi(e,t,r){e.forEach((function(e){r.getTarget(e).hover(t,e)}))}function wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(r),!0).forEach((function(t){ji(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ji(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Si(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.getMonitor(),n=e.getRegistry();Ei(r);var i=Ti(r);i.forEach((function(i,o){var a=Ai(i,o,n,r),u={type:ti,payload:{dropResult:Pi(Pi({},t),a)}};e.dispatch(u)}))}}function Ei(e){Xn(e.isDragging(),"Cannot call drop while not dragging."),Xn(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Ai(e,t,r,n){var i=r.getTarget(e),o=i?i.drop(n,e):void 0;return function(e){Xn(void 0===e||ui(e),"Drop result must either be an object or undefined.")}(o),void 0===o&&(o=0===t?{}:n.getDropResult()),o}function Ti(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Ii(e){return function(){var t=e.getMonitor(),r=e.getRegistry();!function(e){Xn(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var n=t.getSourceId();null!=n&&(r.getSource(n,!0).endDrag(t,n),r.unpinSource());return{type:ri}}}function Di(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ci=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=n.store.getState().refCount>0;n.backend&&(e&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!e&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}var t,r,n;return t=e,(r=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,r=function(e){return{beginDrag:ci(e),publishDragSource:bi(e),hover:yi(e),drop:Si(e),endDrag:Ii(e)}}(this);return Object.keys(r).reduce((function(n,i){var o,a=r[i];return n[i]=(o=a,function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=o.apply(e,n);void 0!==a&&t(a)}),n}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Di(t.prototype,r),n&&Di(t,n),e}();function ki(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ni="function"==typeof Symbol&&Symbol.observable||"@@observable",xi=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vi={INIT:"@@redux/INIT"+xi(),REPLACE:"@@redux/REPLACE"+xi(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+xi()}};function Ri(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Li(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(ki(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(ki(1));return r(Li)(e,t)}if("function"!=typeof e)throw new Error(ki(2));var i=e,o=t,a=[],u=a,s=!1;function l(){u===a&&(u=a.slice())}function c(){if(s)throw new Error(ki(3));return o}function f(e){if("function"!=typeof e)throw new Error(ki(4));if(s)throw new Error(ki(5));var t=!0;return l(),u.push(e),function(){if(t){if(s)throw new Error(ki(6));t=!1,l();var r=u.indexOf(e);u.splice(r,1),a=null}}}function p(e){if(!Ri(e))throw new Error(ki(7));if(void 0===e.type)throw new Error(ki(8));if(s)throw new Error(ki(9));try{s=!0,o=i(o,e)}finally{s=!1}for(var t=a=u,r=0;r<t.length;r++){(0,t[r])()}return e}function d(e){if("function"!=typeof e)throw new Error(ki(10));i=e,p({type:Vi.REPLACE})}function h(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(ki(11));function r(){e.next&&e.next(c())}return r(),{unsubscribe:t(r)}}})[Ni]=function(){return this},e}return p({type:Vi.INIT}),(n={dispatch:p,subscribe:f,getState:c,replaceReducer:d})[Ni]=h,n}var Mi=function(e,t){return e===t};function Ui(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function zi(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mi;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(r),!0).forEach((function(t){Ki(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ki(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hi={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hi,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Jn:case Zn:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case ei:return Ui(e.clientOffset,r.clientOffset)?e:Bi(Bi({},e),{},{clientOffset:r.clientOffset});case ri:case ti:return Hi;default:return e}}var $i="dnd-core/ADD_SOURCE",Wi="dnd-core/ADD_TARGET",qi="dnd-core/REMOVE_SOURCE",Yi="dnd-core/REMOVE_TARGET";function Xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(r),!0).forEach((function(t){Zi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qi={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qi,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Zn:return Ji(Ji({},e),{},{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Qn:return Ji(Ji({},e),{},{isSourcePublic:!0});case ei:return Ji(Ji({},e),{},{targetIds:r.targetIds});case Yi:return-1===e.targetIds.indexOf(r.targetId)?e:Ji(Ji({},e),{},{targetIds:ai(e.targetIds,r.targetId)});case ti:return Ji(Ji({},e),{},{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case ri:return Ji(Ji({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function to(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $i:case Wi:return e+1;case qi:case Yi:return e-1;default:return e}}var ro=[],no=[];function io(e,t){return e!==ro&&(e===no||void 0===t||(r=e,t.filter((function(e){return r.indexOf(e)>-1}))).length>0);var r}function oo(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ei:break;case $i:case Wi:case Yi:case qi:return ro;case Zn:case Qn:case ri:case ti:default:return no}var t=e.payload,r=t.targetIds,n=void 0===r?[]:r,i=t.prevTargetIds,o=void 0===i?[]:i,a=si(n,o),u=a.length>0||!zi(n,o);if(!u)return ro;var s=o[o.length-1],l=n[n.length-1];return s!==l&&(s&&a.push(s),l&&a.push(l)),a}function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(r),!0).forEach((function(t){lo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:oo(e.dirtyHandlerIds,{type:t.type,payload:so(so({},t.payload),{},{prevTargetIds:oi(e,"dragOperation.targetIds",[])})}),dragOffset:Gi(e.dragOffset,t),refCount:to(e.refCount,t),dragOperation:eo(e.dragOperation,t),stateId:ao(e.stateId)}}function fo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function po(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}ro.__IS_NONE__=!0,no.__IS_ALL__=!0;var ho=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=r}var t,r,n;return t=e,(r=[{key:"subscribeToStateChange",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},n=r.handlerIds;Xn("function"==typeof e,"listener must be a function."),Xn(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,o=function(){var r=t.store.getState(),o=r.stateId;try{o===i||o===i+1&&!io(r.dirtyHandlerIds,n)||e()}finally{i=o}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Xn("function"==typeof e,"listener must be a function.");var r=this.store.getState().dragOffset;return this.store.subscribe((function(){var n=t.store.getState().dragOffset;n!==r&&(r=n,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Xn(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Xn(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&vi(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Xn(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var r=t.shallow;if(!this.isDragging())return!1;var n=this.registry.getTargetType(e),i=this.getItemType();if(i&&!vi(n,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(e);return r?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,n=e.clientOffset,i=e.initialClientOffset,o=e.initialSourceClientOffset,n&&i&&o?fo((r=o,{x:(t=n).x+r.x,y:t.y+r.y}),i):null;var e,t,r,n,i,o}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,r=e.initialClientOffset,t&&r?fo(t,r):null;var e,t,r}}])&&po(t.prototype,r),n&&po(t,n),e}(),bo=0;function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(e,t){t&&Array.isArray(e)?e.forEach((function(e){return yo(e,!1)})):Xn("string"==typeof e||"symbol"===vo(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function go(e){_o.length||mo(),_o[_o.length]=e}var mo,_o=[],Oo=0;function wo(){for(;Oo<_o.length;){var e=Oo;if(Oo+=1,_o[e].call(),Oo>1024){for(var t=0,r=_o.length-Oo;t<r;t++)_o[t]=_o[t+Oo];_o.length-=Oo,Oo=0}}_o.length=0,Oo=0}var Po,jo,So,Eo="undefined"!=typeof global?global:self,Ao=Eo.MutationObserver||Eo.WebKitMutationObserver;function To(e){return function(){var t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}"function"==typeof Ao?(Po=1,jo=new Ao(wo),So=document.createTextNode(""),jo.observe(So,{characterData:!0}),mo=function(){Po=-Po,So.data=Po}):mo=To(wo),go.requestFlush=mo,go.makeRequestCallFromTimer=To;var Io=[],Do=[],Co=go.makeRequestCallFromTimer((function(){if(Do.length)throw Do.shift()}));function ko(e){var t;(t=Io.length?Io.pop():new No).task=e,go(t)}var No=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){ko.onerror?ko.onerror(e):(Do.push(e),Co())}finally{this.task=null,Io[Io.length]=this}},e}();function xo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){i=!0,o=s}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ro(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lo(e){var t=(bo++).toString();switch(e){case Hn.SOURCE:return"S".concat(t);case Hn.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Mo(e){switch(e[0]){case"S":return Hn.SOURCE;case"T":return Hn.TARGET;default:Xn(!1,"Cannot parse handler ID: ".concat(e))}}function Uo(e,t){var r=e.entries(),n=!1;do{var i=r.next(),o=i.done;if(Vo(i.value,2)[1]===t)return!0;n=!!o}while(!n);return!1}var zo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,r,n;return t=e,(r=[{key:"addSource",value:function(e,t){yo(e),function(e){Xn("function"==typeof e.canDrag,"Expected canDrag to be a function."),Xn("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),Xn("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var r=this.addHandler(Hn.SOURCE,e,t);return this.store.dispatch(function(e){return{type:$i,payload:{sourceId:e}}}(r)),r}},{key:"addTarget",value:function(e,t){yo(e,!0),function(e){Xn("function"==typeof e.canDrop,"Expected canDrop to be a function."),Xn("function"==typeof e.hover,"Expected hover to be a function."),Xn("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var r=this.addHandler(Hn.TARGET,e,t);return this.store.dispatch(function(e){return{type:Wi,payload:{targetId:e}}}(r)),r}},{key:"containsHandler",value:function(e){return Uo(this.dragSources,e)||Uo(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Xn(this.isSourceId(e),"Expected a valid source ID.");var r=t&&e===this.pinnedSourceId,n=r?this.pinnedSource:this.dragSources.get(e);return n}},{key:"getTarget",value:function(e){return Xn(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Xn(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Xn(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return Mo(e)===Hn.SOURCE}},{key:"isTargetId",value:function(e){return Mo(e)===Hn.TARGET}},{key:"removeSource",value:function(e){var t=this;Xn(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:qi,payload:{sourceId:e}}}(e)),ko((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){Xn(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:Yi,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Xn(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Xn(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,r){var n=Lo(e);return this.types.set(n,t),e===Hn.SOURCE?this.dragSources.set(n,r):e===Hn.TARGET&&this.dropTargets.set(n,r),n}}])&&xo(t.prototype,r),n&&xo(t,n),e}();function Fo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Bo(n),o=new ho(i,new zo(i)),a=new Ci(i,o),u=e(a,t,r);return a.receiveBackend(u),a}function Bo(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Li(co,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){i=!0,o=s}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ho(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ho(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Go(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var $o=0,Wo=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),qo=s.exports.memo((function(e){var t=e.children,r=Ko(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yo(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=t;i[Wo]||(i[Wo]={dragDropManager:Fo(e,t,r,n)});return i[Wo]}(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}(Go(e,["children"])),2),n=r[0],i=r[1];return s.exports.useEffect((function(){if(i){var e=Yo();return++$o,function(){0==--$o&&(e[Wo]=null)}}}),[]),Un.exports.jsx(Mn.Provider,Object.assign({value:n},{children:t}),void 0)}));function Yo(){return"undefined"!=typeof global?global:window}function Xo(e){var t=null;return function(){return null==t&&(t=e()),t}}function Jo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Zo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,r,n;return t=e,(r=[{key:"enter",value:function(e){var t=this,r=this.entered.length;return this.entered=function(e,t){var r=new Set,n=function(e){return r.add(e)};e.forEach(n),t.forEach(n);var i=[];return r.forEach((function(e){return i.push(e)})),i}(this.entered.filter((function(r){return t.isNodeInDocument(r)&&(!r.contains||r.contains(e))})),[e]),0===r&&this.entered.length>0}},{key:"leave",value:function(e){var t,r,n=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),r=e,t.filter((function(e){return e!==r}))),n>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&Jo(t.prototype,r),n&&Jo(t,n),e}(),Qo=Xo((function(){return/firefox/i.test(navigator.userAgent)})),ea=Xo((function(){return Boolean(window.safari)}));function ta(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ra=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=t.length,i=[],o=0;o<n;o++)i.push(o);i.sort((function(e,r){return t[e]<t[r]?-1:1}));for(var a,u,s=[],l=[],c=0;c<n-1;c++)a=t[c+1]-t[c],u=r[c+1]-r[c],s.push(a),l.push(u/a);for(var f=[l[0]],p=0;p<s.length-1;p++){var d=l[p],h=l[p+1];if(d*h<=0)f.push(0);else{a=s[p];var b=s[p+1],v=a+b;f.push(3*v/((v+b)/d+(v+a)/h))}}f.push(l[l.length-1]);for(var y,g=[],m=[],_=0;_<f.length-1;_++){y=l[_];var O=f[_],w=1/s[_],P=O+f[_+1]-y-y;g.push((y-O-P)*w),m.push(P*w*w)}this.xs=t,this.ys=r,this.c1s=f,this.c2s=g,this.c3s=m}var t,r,n;return t=e,(r=[{key:"interpolate",value:function(e){var t=this.xs,r=this.ys,n=this.c1s,i=this.c2s,o=this.c3s,a=t.length-1;if(e===t[a])return r[a];for(var u,s=0,l=o.length-1;s<=l;){var c=t[u=Math.floor(.5*(s+l))];if(c<e)s=u+1;else{if(!(c>e))return r[u];l=u-1}}var f=e-t[a=Math.max(0,l)],p=f*f;return r[a]+n[a]*f+i[a]*p+o[a]*f*p}}])&&ta(t.prototype,r),n&&ta(t,n),e}();function na(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),n=r.top;return{x:r.left,y:n}}function ia(e){return{x:e.clientX,y:e.clientY}}function oa(e,t,r,n,i){var o,a=function(e){var t;return"IMG"===e.nodeName&&(Qo()||!(null!==(t=document.documentElement)&&void 0!==t&&t.contains(e)))}(t),u=na(a?e:t),s={x:r.x-u.x,y:r.y-u.y},l=e.offsetWidth,c=e.offsetHeight,f=n.anchorX,p=n.anchorY,d=function(e,t,r,n){var i=e?t.width:r,o=e?t.height:n;return ea()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(a,t,l,c),h=d.dragPreviewWidth,b=d.dragPreviewHeight,v=i.offsetX,y=i.offsetY,g=0===y||y;return{x:0===v||v?v:new ra([0,.5,1],[s.x,s.x/l*h,s.x+h-l]).interpolate(f),y:g?y:(o=new ra([0,.5,1],[s.y,s.y/c*b,s.y+b-c]).interpolate(p),ea()&&a&&(o+=(window.devicePixelRatio-1)*b),o)}}var aa,ua="__NATIVE_FILE__",sa="__NATIVE_URL__",la="__NATIVE_TEXT__",ca="__NATIVE_HTML__",fa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",FILE:ua,URL:sa,TEXT:la,HTML:ca});function pa(e,t,r){var n=t.reduce((function(t,r){return t||e.getData(r)}),"");return null!=n?n:r}function da(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ha=(da(aa={},ua,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),da(aa,ca,{exposeProperties:{html:function(e,t){return pa(e,t,"")}},matchesTypes:["Html","text/html"]}),da(aa,sa,{exposeProperties:{urls:function(e,t){return pa(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),da(aa,la,{exposeProperties:{text:function(e,t){return pa(e,t,"")}},matchesTypes:["Text","text/plain"]}),aa);function ba(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var va=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,r,n;return t=e,(r=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var r={};Object.keys(this.config.exposeProperties).forEach((function(n){r[n]={value:t.config.exposeProperties[n](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,r)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&ba(t.prototype,r),n&&ba(t,n),e}();function ya(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(ha).filter((function(e){return ha[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function ga(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ma=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}var t,r,n;return t=e,(r=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&ga(t.prototype,r),n&&ga(t,n),e}();function _a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(r),!0).forEach((function(t){wa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ja=function(){function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=i.sourceNodes.get(e);return t&&na(t)||null},this.endDragNativeItem=function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&i.document&&i.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=i.currentDragSourceNode;null==e||i.isNodeInDocument(e)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()},this.handleTopDragStartCapture=function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=i.dragStartSourceIds;i.dragStartSourceIds=null;var r=ia(e);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:r});var n=e.dataTransfer,o=ya(n);if(i.monitor.isDragging()){if(n&&"function"==typeof n.setDragImage){var a=i.monitor.getSourceId(),u=i.sourceNodes.get(a),s=i.sourcePreviewNodes.get(a)||u;if(s){var l=i.getCurrentSourcePreviewNodeOptions(),c=oa(u,s,r,{anchorX:l.anchorX,anchorY:l.anchorY},{offsetX:l.offsetX,offsetY:l.offsetY});n.setDragImage(s,c.x,c.y)}}try{null==n||n.setData("application/json",{})}catch(f){}i.setCurrentDragSourceNode(e.target),i.getCurrentSourcePreviewNodeOptions().captureDraggingState?i.actions.publishDragSource():setTimeout((function(){return i.actions.publishDragSource()}),0)}else if(o)i.beginDragNativeItem(o);else{if(n&&!n.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(i.dragEnterTargetIds=[],i.enterLeaveCounter.enter(e.target)&&!i.monitor.isDragging()){var t=e.dataTransfer,r=ya(t);r&&i.beginDragNativeItem(r,t)}},this.handleTopDragEnter=function(e){var t=i.dragEnterTargetIds;(i.dragEnterTargetIds=[],i.monitor.isDragging())&&(i.altKeyPressed=e.altKey,t.length>0&&i.actions.hover(t,{clientOffset:ia(e)}),t.some((function(e){return i.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){i.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));i.altKeyPressed=e.altKey,i.actions.hover(t||[],{clientOffset:ia(e)}),(t||[]).some((function(e){return i.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){i.isDraggingNativeItem()&&e.preventDefault(),i.enterLeaveCounter.leave(e.target)&&i.isDraggingNativeItem()&&setTimeout((function(){return i.endDragNativeItem()}),0)},this.handleTopDropCapture=function(e){var t;(i.dropTargetIds=[],i.isDraggingNativeItem())&&(e.preventDefault(),null===(t=i.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));i.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(t,{clientOffset:ia(e)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new ma(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Zo(this.isNodeInDocument)}var t,r,n;return t=e,(r=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,r){var n=this;return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),function(){n.sourcePreviewNodes.delete(e),n.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,r){var n=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);var i=function(t){return n.handleDragStart(t,e)},o=function(e){return n.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){n.sourceNodes.delete(e),n.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var r=this,n=function(t){return r.handleDragEnter(t,e)},i=function(t){return r.handleDragOver(t,e)},o=function(t){return r.handleDrop(t,e)};return t.addEventListener("dragenter",n),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",n),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Oa({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return Oa({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(fa).some((function(t){return fa[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var r=new va(ha[e]);return r.loadDataTransfer(t),r}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&Pa(t.prototype,r),n&&Pa(t,n),e}(),Sa=function(e,t,r){return new ja(e,t,r)};var Ea="_head_11d7y_1";var Aa=Vn((()=>l.createElement("header",{className:m("cf3 fbh fbac",Ea)},"header")));var Ta="_sidebar_rp3hk_1";var Ia=Vn((()=>l.createElement("div",{className:m("cf2a fbh",Ta)},"sidebar")));var Da="_editor_nnl6m_1";var Ca=Vn((()=>l.createElement("div",{className:m("fb1 fbh",Da)},"editor")));var ka="_optionPanel_1xggy_1";var Na=Vn((()=>l.createElement("div",{className:m("cf2a fbv",ka,{})},"option-panel")));var xa="_footer_19c07_1";const Va=()=>l.createElement("footer",{className:xa},"footer");var Ra="object"==typeof f&&f&&f.Object===Object&&f,La="object"==typeof self&&self&&self.Object===Object&&self,Ma=(Ra||La||Function("return this")()).Symbol,Ua=Ma,za=Object.prototype,Fa=za.hasOwnProperty,Ba=za.toString,Ka=Ua?Ua.toStringTag:void 0;var Ha=function(e){var t=Fa.call(e,Ka),r=e[Ka];try{e[Ka]=void 0;var n=!0}catch(o){}var i=Ba.call(e);return n&&(t?e[Ka]=r:delete e[Ka]),i},Ga=Object.prototype.toString;var $a=Ha,Wa=function(e){return Ga.call(e)},qa=Ma?Ma.toStringTag:void 0;var Ya=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":qa&&qa in Object(e)?$a(e):Wa(e)};var Xa=Ya,Ja=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Za=function(e){if(!Ja(e))return!1;var t=Xa(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const Qa="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678";var eu={},tu=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),ru=new RegExp("%[a-f0-9]{2}","gi"),nu=new RegExp("(%[a-f0-9]{2})+","gi");function iu(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],iu(r),iu(n))}function ou(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(ru),r=1;r<t.length;r++)t=(e=iu(t,r).join("")).match(ru);return e}}var au=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"","%FF%FE":""},n=nu.exec(e);n;){try{r[n[0]]=decodeURIComponent(n[0])}catch(t){var i=ou(n[0]);i!==n[0]&&(r[n[0]]=i)}n=nu.exec(e)}r["%C2"]="";for(var o=Object.keys(r),a=0;a<o.length;a++){var u=o[a];e=e.replace(new RegExp(u,"g"),r[u])}return e}(e)}},uu=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]},su=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var a=n[o],u=e[a];(i?-1!==t.indexOf(a):t(a,u,e))&&(r[a]=u)}return r};function lu(e){return null!=e}!function(e){const t=tu,r=au,n=uu,i=su,o=Symbol("encodeFragmentIdentifier");function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,r){return r.encode?r.strict?t(e):encodeURIComponent(e):e}function s(e,t){return t.decode?r(e):e}function l(e){return Array.isArray(e)?e.sort():"object"==typeof e?l(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const i="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!i&&s(r,e).includes(e.arrayFormatSeparator);r=o?s(r,e):r;const a=i||o?r.split(e.arrayFormatSeparator).map((t=>s(t,e))):null===r?r:s(r,e);n[t]=a};case"bracket-separator":return(t,r,n)=>{const i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i)return void(n[t]=r?s(r,e):r);const o=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>s(t,e)));void 0!==n[t]?n[t]=[].concat(n[t],o):n[t]=o};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),i=Object.create(null);if("string"!=typeof e)return i;if(!(e=e.trim().replace(/^[?#&]/,"")))return i;for(const o of e.split("&")){if(""===o)continue;let[e,a]=n(t.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:s(a,t),r(s(e,t),a,i)}for(const n of Object.keys(i)){const e=i[n];if("object"==typeof e&&null!==e)for(const r of Object.keys(e))e[r]=p(e[r],t);else i[n]=p(e,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce(((e,t)=>{const r=i[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=l(r):e[t]=r,e}),Object.create(null))}e.extract=f,e.parse=d,e.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[",i,"]"].join("")]:[...r,[u(t,e),"[",u(i,e),"]=",u(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[]"].join("")]:[...r,[u(t,e),"[]=",u(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[u(r,e),t,u(i,e)].join("")]:[[n,u(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,u(t,e)]:[...r,[u(t,e),"=",u(n,e)].join("")]}}(t),i={};for(const a of Object.keys(e))r(a)||(i[a]=e[a]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map((r=>{const i=e[r];return void 0===i?"":null===i?u(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?u(r,t)+"[]":i.reduce(n(r),[]).join("&"):u(r,t)+"="+u(i,t)})).filter((e=>e.length>0)).join("&")},e.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,i]=n(e,"#");return Object.assign({url:r.split("?")[0]||"",query:d(f(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:s(i,t)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[o]:!0},r);const n=c(t.url).split("?")[0]||"",i=e.extract(t.url),a=e.parse(i,{sort:!1}),s=Object.assign(a,t.query);let l=e.stringify(s,r);l&&(l=`?${l}`);let f=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(t.url);return t.fragmentIdentifier&&(f=`#${r[o]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${n}${l}${f}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[o]:!1},n);const{url:a,query:u,fragmentIdentifier:s}=e.parseUrl(t,n);return e.stringifyUrl({url:a,query:i(u,r),fragmentIdentifier:s},n)},e.exclude=(t,r,n)=>{const i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return e.pick(t,i,n)}}(eu);const cu="1"===(e=>{const t=eu.parse(location.search);return lu(e)?t[e]:t})("dev"),fu=p({type:"variable",key:"waveview-front-log"}),pu=e=>{const t=e.replace(/\./g,"\\."),r="Info",n="Warn",i="Error",o="Empty Data";return{info(e,r=o){fu.set(`Info.${t}.${e}`,r),cu&&console.info(e,`Path: '${t}'`,r)},warn(e,r=o){fu.set(`Warn.${t}.${e}`,r),cu&&console.warn(e,`Path: '${t}'`,r)},error(e,r=o){fu.set(`Error.${t}.${e}`,r),cu&&console.error(e,`Path: '${t}'`,r)},get:()=>({[r]:fu.get(r),[n]:fu.get(n),[i]:fu.get(i)}),dump(){console.log(JSON.stringify(this.get(),null,4))}}};pu(u.url);const du=(e="")=>{const t=`__event-${e}-${((e=6)=>{let t="";for(let r=0;r<e;r++)t+=Qa.charAt(Math.floor(Math.random()*Qa.length));return t})()}`,r=e=>`${t}-${e}`;let n={};return{on(e,t,i){if("string"==typeof e&&"function"==typeof t){const o=r(e);n[o]=n[o]||[],t.remark=i,n[o].push(t)}},once(e,t,i){if("string"==typeof e&&"function"==typeof t){const o=r(e);n[o]=n[o]||[],t.remark=i,t.isOnceDone=!1,n[o].push(t)}},off(e,t){const i=r(e);if(t){const e=n[i]||[];e.splice(e.indexOf(t),1),e.length||delete n[i]}else delete n[i]},fire(e,t,i){const o=n[r(e)];if(o){let e;for(let r=0,n=o.length;r<n;r++)e=o[r],lu(e.isOnceDone)?!1===e.isOnceDone&&(e.apply(i||null,[].concat(t)),e.isOnceDone=!0):e.apply(i||null,[].concat(t))}},has:e=>!!n[r(e)],clear(){n={}}}},hu=du();document.body.addEventListener("click",(e=>{e.target&&null===e.target.closest(".stopPropagation")&&hu.fire("globalClick",e)})),window.addEventListener("resize",(e=>{hu.fire("globalResize",e)}));const bu=e=>`keyDown-${e}`,vu=e=>`keyUp-${e}`,yu=du();yu.fireSingleKey=e=>{!(()=>{const{event:e}=window;return e.metaKey||e.ctrlKey||e.altKey||e.shiftKey})()&&(()=>{const{activeElement:e}=document;return e&&("TEXTAREA"===e.nodeName||"INPUT"===e.nodeName)})()||yu.fire(e)};const gu={init(){document.addEventListener("keydown",(e=>{(e=>{switch(e.keyCode){case 8:yu.fire(bu("backspace"));break;case 16:document.body.classList.add("noselect");break;case 18:gu.option=!0,yu.fire(bu("option"));break;case 32:gu.space=!0,yu.fireSingleKey(bu("space"));break;case 46:yu.fire(bu("delete"));break;case 75:(e.metaKey||e.ctrlKey)&&(e.preventDefault(),yu.fire(bu("commandK")));break;case 83:(e.metaKey||e.ctrlKey)&&(e.preventDefault(),yu.fire(bu("commandS")));break;case 90:(e.metaKey||e.ctrlKey)&&e.shiftKey?(e.preventDefault(),yu.fire(bu("commandShiftZ"))):(e.metaKey||e.ctrlKey)&&(e.preventDefault(),yu.fire(bu("commandZ")))}})(e)})),document.addEventListener("keyup",(e=>{switch(e.keyCode){case 8:yu.fire(vu("backspace"));break;case 16:document.body.classList.remove("noselect");break;case 18:gu.option=!1,yu.fire(vu("option"));break;case 32:gu.space=!1,yu.fireSingleKey(vu("space"));break;case 46:yu.fire(vu("delete"));break;case 65:yu.fireSingleKey(vu("a"));break;case 66:yu.fireSingleKey(vu("b"));break;case 77:yu.fireSingleKey(vu("m"));break;case 78:yu.fireSingleKey(vu("n"));break;case 86:yu.fireSingleKey(vu("v"));break;case 27:yu.fireSingleKey(vu("ESC"));break;case 38:yu.fireSingleKey(vu("Top")),e.shiftKey&&yu.fireSingleKey(vu("ShiftTop"));break;case 39:yu.fireSingleKey(vu("Right")),e.shiftKey&&yu.fireSingleKey(vu("ShiftRight"));break;case 40:yu.fireSingleKey(vu("Down")),e.shiftKey&&yu.fireSingleKey(vu("ShiftDown"));break;case 37:yu.fireSingleKey(vu("Left")),e.shiftKey&&yu.fireSingleKey(vu("ShiftLeft"))}}))},add({keyName:e,keyDown:t,keyUp:r,remark:n}){const i=[];return Za(t)&&(yu.on(bu(e),t,n),i.push((()=>{yu.off(bu(e),t)}))),Za(r)&&(yu.on(vu(e),r,n),i.push((()=>{yu.off(vu(e),r)}))),()=>{i.forEach((e=>{e()}))}}};gu.init();var mu,_u;(_u=mu||(mu={})).afterCreate="afterCreate",_u.afterAttach="afterAttach",_u.afterCreationFinalization="afterCreationFinalization",_u.beforeDetach="beforeDetach",_u.beforeDestroy="beforeDestroy";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Ou=function(e,t){return(Ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function wu(e,t){function r(){this.constructor=e}Ou(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Pu=function(){return(Pu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ju(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Su(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(u){i={error:u}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function Eu(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Su(arguments[t]));return e}function Au(e){return hs(e).type}function Tu(e,t){hs(e).applyPatches(Es(t))}function Iu(e,t){void 0===t&&(t=!0);var r=hs(e);return t?r.snapshot:r.type.getSnapshot(r,!1)}function Du(e){return hs(e).root.storedValue}function Cu(e){var t=hs(e);t.isRoot?t.die():t.parent.removeChild(t.subpath)}function ku(e){var t=hs(e).root.environment;return t||_s}var Nu=function(){function e(e,t,r,n){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:us.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=n,this.baseSetParent(t,r)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var r=this.isAlive;this.aliveAtom&&t!==r&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)}}),Object.defineProperty(e.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._hookSubscribers||(this._hookSubscribers=new ks),this._hookSubscribers.register(e,t)}}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e&&(this.pathAtom||(this.pathAtom=se("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?Us(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""}}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==us.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===us.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=se("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.state===us.CREATED){if(this.parent){if(this.parent.state!==us.FINALIZED)return;this.fireHook(mu.afterAttach)}this.state=us.FINALIZED,e&&e()}}}),Object.defineProperty(e.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=us.DEAD}}),Object.defineProperty(e.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(mu.beforeDestroy)}}),e}(),xu=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r,n,i)||this;try{a.storedValue=t.createNewInstance(o)}catch(u){throw a.state=us.DEAD,u}return a.state=us.CREATED,a.finalizeCreation(),a}return wu(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw ws("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.parent!==e,n=this.subpath!==t;(r||n)&&(this.environment=void 0,this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this.getSnapshot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==us.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.fireInternalHook(e)}}),t}(Nu);xu.prototype.die=Ft(xu.prototype.die);var Vu,Ru,Lu,Mu=1,Uu={onError:function(e){throw e}},zu=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r,n,i)||this;if(Object.defineProperty(a,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++Mu}),Object.defineProperty(a,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(a,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a._snapshotComputed=He((function(){return a.getSnapshot()})),a.unbox=a.unbox.bind(a),a._initialSnapshot=o,a.identifierAttribute=t.identifierAttribute,r||(a.identifierCache=new cs),a._childNodes=t.initializeChildNodes(a,a._initialSnapshot),a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var u=a._initialSnapshot[a.identifierAttribute];if(void 0===u){var s=a._childNodes[a.identifierAttribute];s&&(u=s.value)}if("string"!=typeof u&&"number"!=typeof u)throw ws("Instance identifier '"+a.identifierAttribute+"' for type '"+a.type.name+"' must be a string or a number");a.identifier=Ml(u),a.unnormalizedIdentifier=u}return r?r.root.identifierCache.addNodeToCache(a):a.identifierCache.addNodeToCache(a),a}return wu(t,e),Object.defineProperty(t.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)}}),Object.defineProperty(t.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(){0===this._observableInstanceState&&this.createObservableInstance()}}),Object.defineProperty(t.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this._observableInstanceState=1;for(var r=[],n=this.parent;n&&0===n._observableInstanceState;)r.unshift(n),n=n.parent;try{for(var i=ju(r),o=i.next();!o.done;o=i.next()){o.value.createObservableInstanceIfNeeded()}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var a=this.type;try{this.storedValue=a.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,a.finalizeNewInstance(this,this.storedValue)}catch(s){throw this.state=us.DEAD,s}finally{this._isRunningAction=!1}this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=_s,this.state=us.CREATED,this.fireHook(mu.afterCreate),this.finalizeCreation()}}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(mu.beforeDetach);var e=this.state;this.state=us.DETACHING;var t=this.root,r=t.environment,n=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=r,this.identifierCache=n}finally{this.state=e}}}}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e!==this.parent,n=t!==this.subpath;(r||n)&&(r?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(mu.afterAttach)):n&&this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.fireInternalHook(e);var r=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof r&&(Kt?Kt((function(){r.apply(t.storedValue)})):r.apply(this.storedValue))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(t.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,r=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,r),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(t.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()}}),Object.defineProperty(t.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;if(!this.isAlive){var r=this._getAssertAliveError(e);t=r,console.warn(new Error("[mobx-state-tree] "+t))}}}),Object.defineProperty(t.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",r=e.subpath&&Us(e.subpath)||"",n=e.actionContext||qu();n&&"action"!==n.type&&n.parentActionEvent&&(n=n.parentActionEvent);var i="";n&&null!=n.name&&(i=(n&&n.context&&hs(n.context).path||t)+"."+n.name+"()");return"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+r+"', Action: '"+i+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(_s),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):ys(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.type.getChildType(e)}}),Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw ws("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.type.removeChild(this,e)}}),Object.defineProperty(t.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.baseFinalizeCreation((function(){var t,r;try{for(var n=ju(e.getChildren()),i=n.next();!i.done;i=n.next()){i.value.finalizeCreation()}}catch(o){t={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}e.fireInternalHook(mu.afterCreationFinalization)}))}}),Object.defineProperty(t.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw ws("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(t.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._applyPatches=Zu(this.storedValue,"@APPLY_PATCHES",(function(t){t.forEach((function(t){if(t.path){var r=function(e){var t=e.split("/").map(zs);if(!(""===e||"."===e||".."===e||xs(e,"/")||xs(e,"./")||xs(e,"../")))throw ws("a json path must be either rooted, empty or relative, but got '"+e+"'");""===t[0]&&t.shift();return t}(t.path);(function(e,t,r){void 0===r&&(r=!0);for(var n=e,i=0;i<t.length;i++){var o=t[i];if(".."===o){if(n=n.parent)continue}else{if("."===o)continue;if(n){if(n instanceof xu)try{var a=n.value;ds(a)&&(n=hs(a))}catch(u){if(!r)return;throw u}if(n instanceof zu)if(n.getChildType(o)&&(n=n.getChildNode(o)))continue}}if(r)throw ws("Could not resolve '"+o+"' in path '"+(Fs(t.slice(0,i))||"/")+"' while resolving '"+Fs(t)+"'");return}return n})(e,r.slice(0,-1)).applyPatchLocally(r[r.length-1],t)}else e.type.applySnapshot(e,t.value)}))})),this._applySnapshot=Zu(this.storedValue,"@APPLY_SNAPSHOT",(function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)})),Ds(this.storedValue,"$treenode",this),Ds(this.storedValue,"toJSON",vs)}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==us.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){0!==this._observableInstanceState&&(this.getChildren().forEach((function(e){e.aboutToDie()})),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach((function(e){e.finalizeDeath()})),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)}}),Object.defineProperty(t.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEventsEmit("snapshot",e)}}),Object.defineProperty(t.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsRegister("patch",e)}}),Object.defineProperty(t.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._internalEventsHasSubscribers("patch")){var r=Su(function(e){if(!("oldValue"in e))throw ws("Patches without `oldValue` field cannot be inversed");return[Ls(e),Ms(e)]}(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++){var i=t[n];for(var o in i)e[o]=i[o]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path})),2),n=r[0],i=r[1];this._internalEventsEmit("patch",n,i)}this.parent&&this.parent.emitPatch(e,t)}}),Object.defineProperty(t.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsHas("dispose",e)}}),Object.defineProperty(t.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.hasDisposer(e))throw ws("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)}}),Object.defineProperty(t.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._internalEventsHas("dispose",e))throw ws("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)}}),Object.defineProperty(t.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}}}),Object.defineProperty(t.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t=!0);var n={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(n):this.middlewares=[n],function(){r.removeMiddleware(n)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)}}),Object.defineProperty(t.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this._hasSnapshotReaction){var t=Wt((function(){return e.snapshot}),(function(t){return e.emitSnapshot(t)}),Uu);this.addDisposer(t),this._hasSnapshotReaction=!0}}}),Object.defineProperty(t.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)}}),Object.defineProperty(t.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){return void 0===r&&(r=!1),this._internalEvents||(this._internalEvents=new ks),this._internalEvents.register(e,t,r)}}),Object.defineProperty(t.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this._internalEvents&&(t=this._internalEvents).emit.apply(t,Eu([e],r))}}),Object.defineProperty(t.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEvents&&this._internalEvents.clear(e)}}),Object.defineProperty(t.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),t}(Nu);zu.prototype.createObservableInstance=Ft(zu.prototype.createObservableInstance),zu.prototype.detach=Ft(zu.prototype.detach),zu.prototype.die=Ft(zu.prototype.die),(Lu=Ru||(Ru={}))[Lu.String=1]="String",Lu[Lu.Number=2]="Number",Lu[Lu.Boolean=4]="Boolean",Lu[Lu.Date=8]="Date",Lu[Lu.Literal=16]="Literal",Lu[Lu.Array=32]="Array",Lu[Lu.Map=64]="Map",Lu[Lu.Object=128]="Object",Lu[Lu.Frozen=256]="Frozen",Lu[Lu.Optional=512]="Optional",Lu[Lu.Reference=1024]="Reference",Lu[Lu.Identifier=2048]="Identifier",Lu[Lu.Late=4096]="Late",Lu[Lu.Refinement=8192]="Refinement",Lu[Lu.Union=16384]="Union",Lu[Lu.Null=32768]="Null",Lu[Lu.Undefined=65536]="Undefined",Lu[Lu.Integer=131072]="Integer",Lu[Lu.Custom=262144]="Custom",Lu[Lu.SnapshotProcessor=524288]="SnapshotProcessor";var Fu=Symbol("$type"),Bu=function(){function e(e){Object.defineProperty(this,Vu,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e}return Object.defineProperty(e.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return as(this,e),this.instantiate(null,"",t,e).value}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw ws("unimplemented method")}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e===this}}),Object.defineProperty(e.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(bs(e)){var r=Au(e);return this.isAssignableFrom(r)?ns():is(t,e)}return this.isValidSnapshot(e,t)}}),Object.defineProperty(e.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 0===this.validate(e,[{path:"",type:this}]).length}}),Object.defineProperty(e.prototype,"Type",{get:function(){throw ws("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw ws("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw ws("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw ws("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),e}();Vu=Fu,Bu.prototype.create=Ft(Bu.prototype.create);var Ku=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}return wu(t,e),Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,r)}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.createObservableInstanceIfNeeded(),e.storedValue}}),Object.defineProperty(t.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!e.isDetaching&&(e.snapshot===t||(!(!ds(t)||hs(t)!==e)||!(e.type!==this||!Ts(t)||ds(t)||e.identifierAttribute&&e.identifier!==Ml(t[e.identifierAttribute]))&&(e.applySnapshot(t),!0)))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(this.tryToReconcileNode(e,t))return e.setParent(r,n),e;if(e.die(),ds(t)&&this.isAssignableFrom(Au(t))){var i=hs(t);return i.setParent(r,n),i}return this.instantiate(r,n,void 0,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(Bu);Ku.prototype.create=Ft(Ku.prototype.create);var Hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wu(t,e),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(r,n,void 0,t);return e.die(),i}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(Bu);function Gu(e){return"object"==typeof e&&e&&!0===e.isType}!function(){function e(e,t){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),e&&e.onStart(t)}Object.defineProperty(e.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))}}),Object.defineProperty(e.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(e.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0})}();var $u,Wu=1;function qu(){return $u}function Yu(){return Wu++}function Xu(e,t){var r=hs(e.context);"action"===e.type&&r.assertAlive({actionContext:e});var n=r._isRunningAction;r._isRunningAction=!0;var i=$u;$u=e;try{return function(e,t,r){var n=new Qu(e,r);if(n.isEmpty)return Ft(r).apply(null,t.args);var i=null;function o(e){var t=n.getNextMiddleware(),a=t&&t.handler;if(!a)return Ft(r).apply(null,e.args);if(!t.includeHooks&&mu[e.name])return o(e);function u(e,t){i=o(e),t&&(i=t(i))}function s(e){i=e}return a(e,u,s),i}return o(t)}(r,e,t)}finally{$u=i,r._isRunningAction=n}}function Ju(e){if(e)return"action"===e.type?e:e.parentActionEvent}function Zu(e,t,r){var n=function(){var n=Yu(),i=$u,o=Ju(i);return Xu({type:"action",name:t,id:n,args:Ns(arguments),context:e,tree:Du(e),rootId:i?i.rootId:n,parentId:i?i.id:0,allParentIds:i?Eu(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:o},r)};return n._isMSTAction=!0,n}var Qu=function(){function e(e,t){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var r=e;r;)r.middlewares&&this.middlewares.push(r.middlewares),r=r.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.middlewares[this.arrayIndex];if(e){var t=e[this.inArrayIndex++];return t||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}}),e}();function es(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":ds(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(t){return"<Unserializable: "+t+">"}}(e)+"`"}function ts(e){var t=e.value,r=e.context[e.context.length-1].type,n=e.context.map((function(e){return e.path})).filter((function(e){return e.length>0})).join("/"),i=n.length>0?'at path "/'+n+'" ':"",o=ds(t)?"value of type "+hs(t).type.name+":":Is(t)?"value":"snapshot",a=r&&ds(t)&&r.is(hs(t).snapshot);return""+i+o+" "+es(t)+" is not assignable "+(r?"to type: `"+r.name+"`":"")+(e.message?" ("+e.message+")":"")+(r?function(e){return Gu(e)&&(e.flags&(Ru.String|Ru.Number|Ru.Integer|Ru.Boolean|Ru.Date))>0}(r)||Is(t)?".":", expected an instance of `"+r.name+"` or a snapshot like `"+r.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function rs(e,t,r){return e.concat([{path:t,type:r}])}function ns(){return ms}function is(e,t,r){return[{context:e,value:t,message:r}]}function os(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function as(e,t){"undefined"!=typeof process&&process.env&&"true"==={}.ENABLE_TYPE_CHECK&&function(e,t){var r=e.validate(t,[{path:"",type:e}]);if(r.length>0)throw ws(function(e,t,r){if(0===r.length)return;return"Error while converting "+(n=es(t),(n.length<280?n:n.substring(0,272)+"......"+n.substring(n.length-8))+" to `")+e.name+"`:\n\n    "+r.map(ts).join("\n    ");var n}(e,t,r))}(e,t)}var us,ss,ls=0,cs=function(){function e(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:ls++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:Fe.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:Fe.map()})}return Object.defineProperty(e.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)}}),Object.defineProperty(e.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t}}),Object.defineProperty(e.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var r=e.identifier;this.cache.has(r)||this.cache.set(r,Fe.array([],Os));var n=this.cache.get(r);if(-1!==n.indexOf(e))throw ws("Already registered");n.push(e),t&&this.updateLastCacheModificationPerId(r)}}}),Object.defineProperty(e.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;lr(e.identifierCache.cache).forEach((function(e){return e.forEach((function(e){t.addNodeToCache(e)}))}))}}),Object.defineProperty(e.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.identifierAttribute){var t=e.identifier,r=this.cache.get(t);r&&(r.remove(e),r.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}}}),Object.defineProperty(e.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r,n=this,i=new e,o=t.path;return(r=this.cache,Jr(r)?sr(r).map((function(e){return[e,r[e]]})):Br(r)?sr(r).map((function(e){return[e,r.get(e)]})):Gr(r)?Array.from(r.entries()):Rr(r)?r.map((function(e,t){return[t,e]})):void _(7)).forEach((function(e){for(var t=Su(e,2),r=t[0],a=t[1],u=!1,s=a.length-1;s>=0;s--)0===a[s].path.indexOf(o)&&(i.addNodeToCache(a[s],!1),a.splice(s,1),u=!0);u&&n.updateLastCacheModificationPerId(r)})),i}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.cache.get(t);return!!r&&r.some((function(t){return e.isAssignableFrom(t.type)}))}}),Object.defineProperty(e.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.cache.get(t);if(!r)return null;var n=r.filter((function(t){return e.isAssignableFrom(t.type)}));switch(n.length){case 0:return null;case 1:return n[0];default:throw ws("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+n.map((function(e){return e.path})).join(", "))}}}),e}();function fs(e,t,r,n,i){var o=bs(i);if(o){if(o.parent)throw ws("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+r+"', but it lives already at '"+o.path+"'");return t&&o.setParent(t,r),o}return new zu(e,t,r,n,i)}function ps(e,t,r,n,i){return new xu(e,t,r,n,i)}function ds(e){return!(!e||!e.$treenode)}function hs(e){if(!ds(e))throw ws("Value "+e+" is no MST Node");return e.$treenode}function bs(e){return e&&e.$treenode||null}function vs(){return hs(this).snapshot}function ys(e){if(!e)return ms;var t=Object.keys(e);if(!t.length)return ms;var r=new Array(t.length);return t.forEach((function(t,n){r[n]=e[t]})),r}(ss=us||(us={}))[ss.INITIALIZING=0]="INITIALIZING",ss[ss.CREATED=1]="CREATED",ss[ss.FINALIZED=2]="FINALIZED",ss[ss.DETACHING=3]="DETACHING",ss[ss.DEAD=4]="DEAD";var gs=Object.toString(),ms=Object.freeze([]),_s=Object.freeze({}),Os=Pt.useProxies?{deep:!1}:{deep:!1,proxy:!1};function ws(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function Ps(e){return e}Object.freeze(Os);var js=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Ss(e){return Array.isArray(e)||Rr(e)}function Es(e){return e?Ss(e)?e:[e]:ms}function As(e){var t;if(null===e||"object"!=typeof e)return!1;var r=Object.getPrototypeOf(e);return null==r||(null===(t=r.constructor)||void 0===t?void 0:t.toString())===gs}function Ts(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function Is(e,t){return void 0===t&&(t=!0),null==e||!!("string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date)}function Ds(e,t,r){!function(e,t,r){Jr(e)?fr(e,t,r):Object.defineProperty(e,t,r)}(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}var Cs=function(){function e(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){r.unregister(e)}}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.handlers.indexOf(e)>=0}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.handlers.slice();r.forEach((function(t){return t.apply(void 0,Eu(e))}))}}),e}(),ks=function(){function e(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers}}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){void 0===r&&(r=!1),this.eventHandlers||(this.eventHandlers={});var n=this.eventHandlers[e];return n||(n=this.eventHandlers[e]=new Cs),n.register(t,r)}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.eventHandlers&&this.eventHandlers[e];return!!r&&r.has(t)}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.eventHandlers&&this.eventHandlers[e];r&&r.unregister(t)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.eventHandlers&&delete this.eventHandlers[e]}}),Object.defineProperty(e.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.eventHandlers&&this.eventHandlers[e];i&&(t=i).emit.apply(t,Eu(r))}}),e}();function Ns(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}function xs(e,t){return 0===e.indexOf(t)}function Vs(e){"function"==typeof queueMicrotask?queueMicrotask(e):"function"==typeof setImmediate?setImmediate(e):setTimeout(e,1)}function Rs(e){return function(e,t){var r=function(){var n=Yu(),i=qu();if(!i)throw ws("a mst flow must always have a parent context");var o=Ju(i);if(!o)throw ws("a mst flow must always have a parent action context");var a={name:e,id:n,tree:i.tree,context:i.context,parentId:i.id,allParentIds:Eu(i.allParentIds,[i.id]),rootId:i.rootId,parentEvent:i,parentActionEvent:o},u=arguments;function s(e,t,n){e.$mst_middleware=r.$mst_middleware,Xu(Pu(Pu({},a),{type:t,args:[n]}),e)}return new Promise((function(e,n){var i,o=function(){i=t.apply(null,arguments),l(void 0)};function l(e){var t;try{s((function(e){t=i.next(e)}),"flow_resume",e)}catch(r){return void Vs((function(){s((function(e){n(r)}),"flow_throw",r)}))}f(t)}function c(e){var t;try{s((function(e){t=i.throw(e)}),"flow_resume_error",e)}catch(r){return void Vs((function(){s((function(e){n(r)}),"flow_throw",r)}))}f(t)}function f(t){if(!t.done){if(!t.value||"function"!=typeof t.value.then)throw ws("Only promises can be yielded to `async`, got: "+t);return t.value.then(l,c)}Vs((function(){s((function(t){e(t)}),"flow_return",t.value)}))}o.$mst_middleware=r.$mst_middleware,Xu(Pu(Pu({},a),{type:"flow_spawn",args:Ns(u)}),o)}))};return r}(e.name,e)}function Ls(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function Ms(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function Us(e){return!0==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function zs(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Fs(e){if(0===e.length)return"";var t=function(e){return e.map(Us).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}var Bs=function(e){function t(t,r,n){var i=e.call(this,n||t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return wu(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Ru.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(t.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;!function(e,t){for(var r,n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{for(var a=ju(i),u=a.next();!u.done;u=a.next()){var s=u.value;e[s]=t[s].bind(t)}}catch(l){r={error:l}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}(e.type,this,"create");var r=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(r.call(e))}}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=ds(n)?n:this.preProcessSnapshot(n),o=this._subtype.instantiate(e,t,r,i);return this._fixNode(o),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this._subtype.reconcile(e,ds(t)?t:this.preProcessSnapshot(t),r,n);return i!==e&&this._fixNode(i),i}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=!0);var r=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(r):r}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.preProcessSnapshot(e);return this._subtype.validate(r,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Gu(e)?this._subtype:ds(e)?Iu(e,!1):this.preProcessSnapshot(e);return 0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),t}(Bu);var Ks,Hs,Gs="Map.put can only be used to store complex values that have an identifier type attribute";function $s(e,t){var r,n,i=e.getSubTypes();if("cannotDetermine"===i)return!1;if(i){var o=Es(i);try{for(var a=ju(o),u=a.next();!u.done;u=a.next()){if(!$s(u.value,t))return!1}}catch(s){r={error:s}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}return e instanceof nl&&t.push(e),!0}(Hs=Ks||(Ks={}))[Hs.UNKNOWN=0]="UNKNOWN",Hs[Hs.YES=1]="YES",Hs[Hs.NO=2]="NO";var Ws=function(e){function t(t){return e.call(this,t,Fe.ref.enhancer)||this}return wu(t,e),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.get.call(this,""+t)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.has.call(this,""+t)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.delete.call(this,""+t)}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){return e.prototype.set.call(this,""+t,r)}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e)throw ws("Map.put cannot be used to set empty values");if(ds(e)){var t=hs(e);if(null===t.identifier)throw ws(Gs);return this.set(t.identifier,e),e}if(Ts(e)){var r=hs(this),n=r.type;if(n.identifierMode!==Ks.YES)throw ws(Gs);var i=e[n.mapIdentifierAttribute];if(!Ul(i)){var o=this.put(n.getChildType().create(e,r.environment));return this.put(Iu(o))}var a=Ml(i);return this.set(a,e),this.get(a)}throw ws("Map.put can only be used to store complex values")}}),t}(Fr),qs=function(e){function t(t,r,n){void 0===n&&(n=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:Ks.UNKNOWN}),Object.defineProperty(i,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ru.Map}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i._determineIdentifierMode(),i.hookInitializers=n,i}return wu(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,r)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._determineIdentifierMode(),fs(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===Ks.UNKNOWN){var e=[];if($s(this._subType,e)){var t=void 0;e.forEach((function(e){if(e.identifierAttribute){if(t&&t!==e.identifierAttribute)throw ws("The objects in a map should all have the same identifier attribute, expected '"+t+"', but child of type '"+e.name+"' declared attribute '"+e.identifierAttribute+"' as identifier");t=e.identifierAttribute}})),t?(this.identifierMode=Ks.YES,this.mapIdentifierAttribute=t):this.identifierMode=Ks.NO}}}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var r=e.type._subType,n={};return Object.keys(t).forEach((function(i){n[i]=r.instantiate(e,i,void 0,t[i])})),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new Ws(e)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){or(t,e.unbox),e.type.hookInitializers.forEach((function(e){var r=e(t);Object.keys(r).forEach((function(e){var n=r[e],i=Zu(t,e,n);Ds(t,e,i)}))})),ar(t,this.willChange),pr(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"Map<string, "+this._subType.describe()+">"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return lr(e.storedValue)}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e.storedValue.get(""+t);if(!r)throw ws("Not a child "+t);return r}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=hs(e.object),r=e.name;t.assertWritable({subpath:r});var n=t.type,i=n._subType;switch(e.type){case"update":var o=e.newValue;if(o===e.object.get(r))return null;as(i,o),e.newValue=i.reconcile(t.getChildNode(r),e.newValue,t,r),n.processIdentifier(r,e.newValue);break;case"add":as(i,e.newValue),e.newValue=i.instantiate(t,r,void 0,e.newValue),n.processIdentifier(r,e.newValue)}return e}}),Object.defineProperty(t.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.identifierMode===Ks.YES&&t instanceof zu){var r=t.identifier;if(r!==e)throw ws("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+r+"', but expected: '"+e+"'")}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return e.getChildren().forEach((function(e){t[e.subpath]=e.snapshot})),t}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].getSnapshot()})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=hs(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:Us(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:Us(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var r=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:Us(e.name),oldValue:r},t)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=e.storedValue;switch(r.op){case"add":case"replace":n.set(t,r.value);break;case"remove":n.delete(t)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){as(this,t);var r=e.storedValue,n={};if(Array.from(r.keys()).forEach((function(e){n[e]=!1})),t)for(var i in t)r.set(i,t[i]),n[""+i]=!0;Object.keys(n).forEach((function(e){!1===n[e]&&r.delete(e)}))}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return As(e)?os(Object.keys(e).map((function(n){return r._subType.validate(e[n],rs(t,n,r._subType))}))):is(t,e,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return _s}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.delete(t)}}),t}(Ku);function Ys(e){return Gu(e)&&(e.flags&Ru.Map)>0}qs.prototype.applySnapshot=Ft(qs.prototype.applySnapshot);var Xs=function(e){function t(t,r,n){void 0===n&&(n=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ru.Array}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i.hookInitializers=n,i}return wu(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,r)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return fs(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=[]);var r=e.type._subType,n={};return t.forEach((function(t,i){var o=""+i;n[o]=r.instantiate(e,o,void 0,t)})),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Fe.array(ys(e),Os)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){ln(t).dehancer=e.unbox,e.type.hookInitializers.forEach((function(e){var r=e(t);Object.keys(r).forEach((function(e){var n=r[e],i=Zu(t,e,n);Ds(t,e,i)}))})),ar(t,this.willChange),pr(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType.describe()+"[]"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.slice()}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=Number(t);if(r<e.storedValue.length)return e.storedValue[r];throw ws("Not a child: "+t)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=hs(e.object);t.assertWritable({subpath:""+e.index});var r=t.type._subType,n=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=Js(t,r,[n[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var o=e.index,a=e.removedCount,u=e.added,s=Js(t,r,n.slice(o,o+a),u,u.map((function(e,t){return o+t})));if(!s)return null;e.added=s;for(var l=o+a;l<n.length;l++)n[l].setParent(t,""+(l+u.length-a))}return e}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.getChildren().map((function(e){return e.snapshot}))}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=[];return Object.keys(e).forEach((function(r){t.push(e[r].getSnapshot())})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=hs(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var r=e.removedCount-1;r>=0;r--)t.emitPatch({op:"remove",path:""+(e.index+r),oldValue:e.removed[r].snapshot},t);for(r=0;r<e.addedCount;r++)t.emitPatch({op:"add",path:""+(e.index+r),value:t.getChildNode(""+(e.index+r)).snapshot,oldValue:void 0},t);return}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=e.storedValue,i="-"===t?n.length:Number(t);switch(r.op){case"replace":n[i]=r.value;break;case"add":n.splice(i,0,r.value);break;case"remove":n.splice(i,1)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){as(this,t),e.storedValue.replace(t)}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;return Ss(e)?os(e.map((function(e,n){return r._subType.validate(e,rs(t,""+n,r._subType))}))):is(t,e,"Value is not an array")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ms}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.splice(Number(t),1)}}),t}(Ku);function Js(e,t,r,n,i){for(var o,a=!0,u=0;;u++){var s=u<=n.length-1,l=r[u],c=s?n[u]:void 0,f=""+i[u];if(((o=c)instanceof xu||o instanceof zu)&&(c=c.storedValue),!l&&!s)break;if(s)if(l)if(Qs(l,c))r[u]=Zs(t,e,f,c,l);else{for(var p=void 0,d=u;d<r.length;d++)if(Qs(r[d],c)){p=r.splice(d,1)[0];break}a=!1;h=Zs(t,e,f,c,p);r.splice(u,0,h)}else{if(ds(c)&&hs(c).parent===e)throw ws("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+f+"', but it lives already at '"+hs(c).path+"'");a=!1;var h=Zs(t,e,f,c);r.splice(u,0,h)}else a=!1,r.splice(u,1),l instanceof zu&&l.createObservableInstanceIfNeeded(),l.die(),u--}return a?null:r}function Zs(e,t,r,n,i){as(e,n);var o=function(){if(ds(n)){var o=hs(n);if(o.assertAlive(_s),null!==o.parent&&o.parent===t)return o.setParent(t,r),o}return i?e.reconcile(i,n,t,r):e.instantiate(t,r,void 0,n)}();return i&&i!==o&&(i instanceof zu&&i.createObservableInstanceIfNeeded(),i.die()),o}function Qs(e,t){if(!e.isAlive)return!1;if(ds(t)){var r=hs(t);return r.isAlive&&r===e}return e.snapshot===t||e instanceof zu&&null!==e.identifier&&e.identifierAttribute&&As(t)&&e.identifier===Ml(t[e.identifierAttribute])&&e.type.is(t)}Xs.prototype.applySnapshot=Ft(Xs.prototype.applySnapshot);function el(){return hs(this).toString()}var tl={name:"AnonymousModel",properties:{},initializers:ms};function rl(e){return Object.keys(e).reduce((function(e,t){var r,n,i;if(t in mu)throw ws("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var o=Object.getOwnPropertyDescriptor(e,t);if("get"in o)throw ws("Getters are not supported as properties. Please use views instead");var a=o.value;if(null==a)throw ws("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(Is(a))return Object.assign({},e,((r={})[t]=ml(function(e){switch(typeof e){case"string":return ol;case"number":return al;case"boolean":return sl;case"object":if(e instanceof Date)return pl}throw ws("Cannot determine primitive type from value "+e)}(a),a),r));if(a instanceof qs)return Object.assign({},e,((n={})[t]=ml(a,{}),n));if(a instanceof Xs)return Object.assign({},e,((i={})[t]=ml(a,[]),i));if(Gu(a))return e;throw ws("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+a+"' ("+typeof a+")")}),e)}var nl=function(e){function t(t){var r=e.call(this,t.name||tl.name)||this;return Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ru.Object}),Object.defineProperty(r,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({name:e})}}),Object.defineProperty(r,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({properties:e})}}),Object.defineProperty(r,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.preProcessor;return t?r.cloneAndEnhance({preProcessor:function(r){return t(e(r))}}):r.cloneAndEnhance({preProcessor:e})}}),Object.defineProperty(r,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.postProcessor;return t?r.cloneAndEnhance({postProcessor:function(r){return e(t(r))}}):r.cloneAndEnhance({postProcessor:e})}}),Object.assign(r,tl,t),r.properties=rl(r.properties),r.properties,r.propertyNames=Object.keys(r.properties),r.identifierAttribute=r._getIdentifierAttribute(),r}return wu(t,e),Object.defineProperty(t.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=void 0;return this.forAllProps((function(t,r){if(r.flags&Ru.Identifier){if(e)throw ws("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}})),e}}),Object.defineProperty(t.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})}}),Object.defineProperty(t.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){return t.instantiateActions(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!As(t))throw ws("actions initializer should return a plain object containing actions");Object.keys(t).forEach((function(r){if("preProcessSnapshot"===r)throw ws("Cannot define action 'preProcessSnapshot', it should be defined using 'type.preProcessSnapshot(fn)' instead");if("postProcessSnapshot"===r)throw ws("Cannot define action 'postProcessSnapshot', it should be defined using 'type.postProcessSnapshot(fn)' instead");var n=t[r],i=e[r];if(r in mu&&i){var o=n;n=function(){i.apply(null,arguments),o.apply(null,arguments)}}var a=n.$mst_middleware,u=n.bind(t);u.$mst_middleware=a;var s=Zu(e,r,u);t[r]=s,Ds(e,r,s)}))}}),Object.defineProperty(t.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if("function"!=typeof e)throw ws("You passed an "+typeof e+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(r){return t.instantiateVolatileState(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!As(t))throw ws("volatile state initializer should return a plain object containing state");cr(e,t)}}),Object.defineProperty(t.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){var n=e(r),i=n.actions,o=n.views,a=n.state,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(n,["actions","views","state"]);for(var s in u)throw ws("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+s+"'");return a&&t.instantiateVolatileState(r,a),o&&t.instantiateViews(r,o),i&&t.instantiateActions(r,i),r}]})}}),Object.defineProperty(t.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(r){return t.instantiateViews(r,e(r)),r}]})}}),Object.defineProperty(t.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!As(t))throw ws("views initializer should return a plain object containing views");Object.keys(t).forEach((function(r){var n,i=Object.getOwnPropertyDescriptor(t,r);if("get"in i)fr(e,r,i),Pr(e,((n={})[r]=He,n));else{if("function"!=typeof i.value)throw ws("A view member should either be a function or getter based property");Ds(e,r,i.value)}}))}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return fs(this,e,t,r,ds(n)?n:this.applySnapshotPreProcessor(n))}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var r=e.type,n={};return r.forAllProps((function(r,i){n[r]=i.instantiate(e,r,void 0,t[r])})),n}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Fe.object(e,_s,Os)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Ds(t,"toString",el),this.forAllProps((function(r){or(t,r,e.unbox)})),this.initializers.reduce((function(e,t){return t(e)}),t),ar(t,this.willChange),pr(t,this.didChange)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,r=hs(t.object),n=t.name;r.assertWritable({subpath:n});var i=r.type.properties[n];return i&&(as(i,t.newValue),t.newValue=i.reconcile(r.getChildNode(n),t.newValue,r,n)),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,r=hs(t.object);if(r.type.properties[t.name]){var n=t.oldValue?t.oldValue.snapshot:void 0;r.emitPatch({op:"replace",path:Us(t.name),value:t.newValue.snapshot,oldValue:n},r)}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,r=[];return this.forAllProps((function(n){r.push(t.getChildNode(e,n))})),r}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(t in this.properties))throw ws("Not a value property: "+t);var r=ln(e.storedValue,t).raw();if(!r)throw ws("Node not available for property "+t);return r}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t=!0);var n={};return this.forAllProps((function(t,i){sn(e.storedValue,t).reportObserved(),n[t]=r.getChildNode(e,t).snapshot})),t?this.applySnapshotPostProcessor(n):n}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].getSnapshot()})),this.applySnapshotPostProcessor(t)}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){if("replace"!==r.op&&"add"!==r.op)throw ws("object does not support operation "+r.op);e.storedValue[t]=r.value}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.applySnapshotPreProcessor(t);as(this,r),this.forAllProps((function(t){e.storedValue[t]=r[t]}))}}),Object.defineProperty(t.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.preProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.postProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.properties[e]}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,n=this.applySnapshotPreProcessor(e);return As(n)?os(this.propertyNames.map((function(e){return r.properties[e].validate(n[e],rs(t,e,r.properties[e]))}))):is(t,n,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.propertyNames.forEach((function(r){return e(r,t.properties[r])}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return"{ "+this.propertyNames.map((function(t){return t+": "+e.properties[t].describe()})).join("; ")+" }"}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return _s}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue[t]=void 0}}),t}(Ku);nl.prototype.applySnapshot=Ft(nl.prototype.applySnapshot);var il=function(e){function t(t,r,n,i){void 0===i&&(i=Ps);var o=e.call(this,t)||this;return Object.defineProperty(o,"flags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"checker",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:i}),o.flags=r,o}return wu(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return ps(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.initializer(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Is(e)&&this.checker(e)?ns():is(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))}}),t}(Hu),ol=new il("string",Ru.String,(function(e){return"string"==typeof e})),al=new il("number",Ru.Number,(function(e){return"number"==typeof e})),ul=new il("integer",Ru.Integer,(function(e){return js(e)})),sl=new il("boolean",Ru.Boolean,(function(e){return"boolean"==typeof e})),ll=new il("null",Ru.Null,(function(e){return null===e})),cl=new il("undefined",Ru.Undefined,(function(e){return void 0===e})),fl=new il("Date",Ru.Date,(function(e){return"number"==typeof e||e instanceof Date}),(function(e){return e instanceof Date?e:new Date(e)}));fl.getSnapshot=function(e){return e.storedValue.getTime()};var pl=fl;var dl=function(e){function t(t){var r=e.call(this,JSON.stringify(t))||this;return Object.defineProperty(r,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ru.Literal}),r.value=t,r}return wu(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return ps(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Is(e)&&e===this.value?ns():is(t,e,"Value is not a literal "+JSON.stringify(this.value))}}),t}(Hu);function hl(e){return new dl(e)}var bl=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return Object.defineProperty(o,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"_message",{enumerable:!0,configurable:!0,writable:!0,value:i}),o}return wu(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Ru.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this._subtype.validate(e,t);if(r.length>0)return r;var n=ds(e)?hs(e).snapshot:e;return this._predicate(n)?ns():is(t,e,this._message(e))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(Bu);var vl=function(e){function t(t,r,n){var i=e.call(this,t)||this;return Object.defineProperty(i,"_types",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),n=Pu({eager:!0,dispatcher:void 0},n),i._dispatcher=n.dispatcher,n.eager||(i._eager=!1),i}return wu(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=Ru.Union;return this._types.forEach((function(t){e|=t.flags})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._types.some((function(t){return t.isAssignableFrom(e)}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map((function(e){return e.describe()})).join(" | ")+")"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.determineType(n,void 0);if(!i)throw ws("No matching type for union "+this.describe());return i.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=this.determineType(t,e.type);if(!i)throw ws("No matching type for union "+this.describe());return i.reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter((function(e){return e!==t})).find((function(t){return t.is(e)})):this._types.find((function(t){return t.is(e)}))}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var r=[],n=0,i=0;i<this._types.length;i++){var o=this._types[i].validate(e,t);if(0===o.length){if(this._eager)return ns();n++}else r.push(o)}return 1===n?ns():is(t,e,"No type is applicable for the union").concat(os(r))}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),t}(Bu);function yl(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Gu(e)?void 0:e,i=Gu(e)?Eu([e],t):t,o="("+i.map((function(e){return e.name})).join(" | ")+")";return new vl(o,i,n)}var gl=function(e){function t(t,r,n){var i=e.call(this,t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return wu(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Ru.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(this.optionalValues.indexOf(n)>=0){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,r,i)}return this._subtype.instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),r,n)}}),Object.defineProperty(t.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&as(this,e),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.optionalValues.indexOf(e)>=0?ns():this._subtype.validate(e,t)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(Bu);function ml(e,t,r){return function(e,t){if("function"!=typeof t&&ds(t))throw ws("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead")}(0,t),new gl(e,t,r||_l)}var _l=[void 0],Ol=ml(cl,void 0),wl=ml(ll,null);function Pl(e){return yl(e,Ol)}var jl=function(e){function t(t,r){var n=e.call(this,t)||this;return Object.defineProperty(n,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n}return wu(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|Ru.Late},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(r){if(!(r instanceof ReferenceError))throw r;t=void 0}if(e&&void 0===t)throw ws("Late type seems to be used too early, the definition (still) returns undefined");t&&(this._subType=t)}return this._subType}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this.getSubType(!0).instantiate(e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return this.getSubType(!0).reconcile(e,t,r,n)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.getSubType(!1);return r?r.validate(e,t):ns()}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e||"cannotDetermine"}}),t}(Bu);var Sl=function(e){function t(t){var r=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return Object.defineProperty(r,"subType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ru.Frozen}),r}return wu(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return ps(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return function(e){return"function"!=typeof e}(e)?this.subType?this.subType.validate(e,t):ns():is(t,e,"Value is not serializable and cannot be frozen")}}),t}(Hu),El=new Sl;var Al=function(){function e(e,t){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Ul(e))this.identifier=e;else{if(!ds(e))throw ws("Can only store references to tree nodes or identifiers, got: '"+e+"'");var r=hs(e);if(!r.identifierAttribute)throw ws("Can only store references with a defined identifier attribute.");var n=r.unnormalizedIdentifier;if(null==n)throw ws("Can only store references to tree nodes with a defined identifier.");this.identifier=n}}return Object.defineProperty(e.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Ml(this.identifier),r=e.root,n=r.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==n){var i=this.targetType,o=r.identifierCache.resolve(i,t);if(!o)throw new Tl("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:o,lastCacheModification:n}}}}),Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),Tl=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return wu(t,e),t}(Error),Il=function(e){function t(t,r){var n=e.call(this,"reference("+t.name+")")||this;return Object.defineProperty(n,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ru.Reference}),n}return wu(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.targetType.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Ul(e)?ns():is(t,e,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(t.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=t.parent;if(i&&i.isAlive){var o=i.storedValue;o&&this.onInvalidated({cause:e,parent:o,invalidTarget:n?n.storedValue:void 0,invalidId:r,replaceRef:function(e){Tu(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){var e;Gu(e=i.type)&&(e.flags&Ru.Object)>0?this.replaceRef(void 0):Tu(t.root.storedValue,{op:"remove",path:t.path})}})}}}),Object.defineProperty(t.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,n=this.getValue(e);if(n){var i=hs(n),o=function(n,o){var a=function(e){switch(e){case mu.beforeDestroy:return"destroy";case mu.beforeDetach:return"detach";default:return}}(o);a&&r.fireInvalidated(a,e,t,i)},a=i.registerHook(mu.beforeDetach,o),u=i.registerHook(mu.beforeDestroy,o);return function(){a(),u()}}}}),Object.defineProperty(t.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var n=this;if(this.onInvalidated){var i;e.registerHook(mu.beforeDestroy,(function(){i&&i()}));var o=function(o){i&&i();var a=e.parent,u=a&&a.storedValue;if(a&&a.isAlive&&u){(r?!!r.get(t,u):e.root.identifierCache.has(n.targetType,Ml(t)))?i=n.addTargetNodeWatcher(e,t):o||n.fireInvalidated("invalidSnapshotReference",e,t,null)}};e.state===us.FINALIZED?o(!0):(e.isRoot||e.root.registerHook(mu.afterCreationFinalization,(function(){e.parent&&e.parent.createObservableInstanceIfNeeded()})),e.registerHook(mu.afterAttach,(function(){o(!1)})))}}}),t}(Hu),Dl=function(e){function t(t,r){return e.call(this,t,r)||this}return wu(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return e.storedValue.resolvedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.identifier}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=ds(n)?hs(n).identifier:n,o=new Al(n,this.targetType),a=ps(this,e,t,r,o);return o.node=a,this.watchTargetNodeForInvalidations(a,i,void 0),a}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!e.isDetaching&&e.type===this){var i=ds(t),o=e.storedValue;if(!i&&o.identifier===t||i&&o.resolvedValue===t)return e.setParent(r,n),e}var a=this.instantiate(r,n,void 0,t);return e.die(),a}}),t}(Il),Cl=function(e){function t(t,r,n){var i=e.call(this,t,n)||this;return Object.defineProperty(i,"options",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return wu(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=ds(n)?this.options.set(n,e?e.storedValue:null):n,o=ps(this,e,t,r,i);return this.watchTargetNodeForInvalidations(o,i,this.options),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=ds(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(r,n),e;var o=this.instantiate(r,n,void 0,i);return e.die(),o}}),t}(Il);function kl(e,t){var r=t||void 0,n=t?t.onInvalidated:void 0;return r&&(r.get||r.set)?new Cl(e,{get:r.get,set:r.set},n):new Dl(e,n)}var Nl=function(e){function t(t,r){var n=e.call(this,t)||this;return Object.defineProperty(n,"validType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ru.Identifier}),n}return wu(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(!(e&&e.type instanceof nl))throw ws("Identifier types can only be instantiated as direct child of a model type");return ps(this,e,t,r,n)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){if(e.storedValue!==t)throw ws("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(r,n),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return typeof e!==this.validType?is(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):ns()}}),t}(Hu),xl=function(e){function t(){var t=e.call(this,"identifier","string")||this;return Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ru.Identifier}),t}return wu(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),t}(Nl),Vl=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return wu(t,e),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),t}(Nl),Rl=new xl,Ll=new Vl;function Ml(e){return""+e}function Ul(e){return"string"==typeof e||"number"==typeof e}var zl=function(e){function t(t){var r=e.call(this,t.name)||this;return Object.defineProperty(r,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ru.Custom}),r}return wu(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.options.isTargetType(e))return ns();var r=this.options.getValidationMessage(e);return r?is(t,e,"Invalid value for type '"+this.name+"': "+r):ns()}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.options.toSnapshot(e.storedValue)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){return ps(this,e,t,r,this.options.isTargetType(n)?n:this.options.fromSnapshot(n,e&&e.root.environment))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,n){var i=!this.options.isTargetType(t);if(!e.isDetaching&&(e.type===this&&(i?t===e.snapshot:t===e.storedValue)))return e.setParent(r,n),e;var o=i?this.options.fromSnapshot(t,r.root.environment):t,a=this.instantiate(r,n,void 0,o);return e.die(),a}}),t}(Hu),Fl={enumeration:function(e,t){var r="string"==typeof e?t:e,n=yl.apply(void 0,Eu(r.map((function(e){return hl(""+e)}))));return"string"==typeof e&&(n.name=e),n},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0]?e.shift():"AnonymousModel",n=e.shift()||{};return new nl({name:r,properties:n})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0],n=r?e[0]:"AnonymousModel";return r&&e.shift(),e.reduce((function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(r){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(r))},postProcessor:function(r){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(r))}})})).named(n)},custom:function(e){return new zl(e)},reference:kl,safeReference:function(e,t){var r=kl(e,Pu(Pu({},t),{onInvalidated:function(e){t&&t.onInvalidated&&t.onInvalidated(e),e.removeRef()}}));return t&&!1===t.acceptsUndefined?r:Pl(r)},union:yl,optional:ml,literal:hl,maybe:Pl,maybeNull:function(e){return yl(e,wl)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="string"==typeof e[0]?e.shift():Gu(e[0])?e[0].name:null,n=e[0],i=e[1],o=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return new bl(r,n,i,o)},string:ol,boolean:sl,number:al,integer:ul,Date:pl,map:function(e){return new qs("map<string, "+e.name+">",e)},array:function(e){return new Xs(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?El:Gu(e)?new Sl(e):ml(El,e)},identifier:Rl,identifierNumber:Ll,late:function(e,t){var r="string"==typeof e?e:"late("+e.toString()+")";return new jl(r,"string"==typeof e?t:e)},undefined:cl,null:ll,snapshotProcessor:function(e,t,r){return new Bs(e,t,r)}},Bl=Array.isArray;var Kl=function(e){return null!=e&&"object"==typeof e},Hl=Ya,Gl=Bl,$l=Kl;var Wl=function(e){return"string"==typeof e||!Gl(e)&&$l(e)&&"[object String]"==Hl(e)};var ql=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),Yl=Ya,Xl=ql,Jl=Kl,Zl=Function.prototype,Ql=Object.prototype,ec=Zl.toString,tc=Ql.hasOwnProperty,rc=ec.call(Object);var nc=function(e){if(!Jl(e)||"[object Object]"!=Yl(e))return!1;var t=Xl(e);if(null===t)return!0;var r=tc.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ec.call(r)==rc};const ic=pu(u.url),oc=(e,u={})=>{const{normalKeys:s=e.normalKeys||[],deepKeys:l=e.deepKeys||[]}=u,c=Au(e).name,f={};return s.forEach((t=>{e[t]&&Za(e[t].toJSON)?f[t]=e[t].toJSON():f[t]=e[t]})),l.forEach((s=>{lu(e[s])?Za(e[s].map)?f[s]=e[s].map((e=>{if(Za(e.getSchema))return e.getSchema(u)})):Ys(Au(e[s]))?(f[s]={},e[s].forEach(((e,l)=>{var c;Za(e.getSchema)?f[s][l]=e.getSchema((c=((e,t)=>{for(var r in t||(t={}))i.call(t,r)&&a(e,r,t[r]);if(n)for(var r of n(t))o.call(t,r)&&a(e,r,t[r]);return e})({},u),t(c,r({copy:!1})))):f[s][l]=e}))):Za(e[s].getSchema)?f[s]=e[s].getSchema(u):ic.warn("getSchema is not a function on object. Function: 'getModelSchema'",e[s]):ic.warn(`${s} is not found on node(${c}). Function: 'getModelSchema'`,e)})),f},ac=(e=[])=>t=>{const r={set(e,r){Wl(e)?t[e]=r:nc(e)&&Object.entries(e).forEach((([e,r])=>t[e]=r))},selectItem(e){t.selectNone(),t.selected=e,t.selected.select()},selectNone(){t.selected&&(t.selected.unselect(),t.selected=void 0)},getSchema:e=>oc(t,e),setSchema(e){((e,t)=>{if(!t)return;const r=Au(e).name;Bl(e.normalKeys)&&e.normalKeys.forEach((r=>{try{e[r]=t[r]}catch(n){ic.error(n,t[r])}})),Bl(e.deepKeys)&&e.deepKeys.forEach((n=>{lu(e[n])?Bl(t[n])&&Bl(e[n])?t[n].forEach(((t,r)=>{e[n][r].setSchema(t)})):nc(t[n])&&Ys(Au(e[n]))||Za(e[n].setSchema)?e[n].setSchema(t[n]):ic.warn("setSchema is not a function on object. Function: 'setModelSchema'",e[n]):ic.warn(`deepKey(${n}) property is not found on node(${r}). Function: 'setModelSchema'`)})),Bl(e.refKeys)&&e.refKeys.forEach((r=>{e[r]=t[r]})),Za(e.afterSetSchema)&&e.afterSetSchema()})(t,e)},clearSchema(){var e;Bl((e=t).deepKeys)&&e.deepKeys.forEach((t=>{lu(e[t])?Cu(e[t]):ic.warn(`${t} is not found on model node:`,e)})),Bl(e.refKeys)&&e.refKeys.forEach((t=>{lu(e[t])?Cu(e[t]):ic.warn(`${t} is not found on node:`,e)}))},copySchema:()=>oc(t),dumpSchema(e){console.log(JSON.stringify(oc(t,e),null,4))}},n={};return e.forEach((e=>{r[e]&&(n[e]=r[e])})),n},uc=Fl.model("MHead",{activePanelButton:Fl.optional(Fl.enumeration(["NO_ACTIVE_PANEL_BUTTON","projects","exhibits","datas","materials"]),"NO_ACTIVE_PANEL_BUTTON"),panelButtons:Fl.frozen(["projects","exhibits","datas","materials"])}).views((e=>({get env_(){return ku(e)}}))).actions(ac(["set"])).actions((e=>({afterCreate:()=>{const{event:t}=e.env_;t.on("head.toggleActivePanel",(t=>{e.toggleActivePanel(t)}))},toggleActivePanel:t=>{const{activePanelButton:r}=e,{session:n,event:i}=e.env_;t===r&&(t="NO_ACTIVE_PANEL_BUTTON"),i.fire("sidebar.toggleActivePanel",t),n.set("activePanel",t),e.activePanelButton=t}}))),sc=Fl.model({activePanel:Fl.optional(Fl.enumeration(["NO_ACTIVE_PANEL","projects","exhibits","datas","materials"]),"NO_ACTIVE_PANEL"),panels:Fl.frozen(["projects","exhibits","datas","materials"])}).views((e=>({get env_(){return ku(e)}}))).actions((e=>({afterCreate:()=>{const{event:t}=e.env_;t.on("sidebar.toggleActivePanel",(t=>{e.toggleActivePanel(t)}))},toggleActivePanel:t=>{e.panels.includes(t)?e.activePanel=t:e.activePanel="NO_ACTIVE_PANEL"}}))),lc=Fl.model({isHideDropMenu:Fl.optional(Fl.boolean,!0),userId:Fl.optional(Fl.number,0),isMaster:Fl.optional(Fl.boolean,!1),maxOrg:0,maxArt:0,dataPermission:0,permissions:Fl.optional(Fl.array(Fl.string),[]),nickname:"",email:Fl.maybeNull(Fl.string),mobile:"",avatar:Fl.maybeNull(Fl.string),organizationId:Fl.maybeNull(Fl.number),levelType:Fl.optional(Fl.string,"personal"),organizationName:Fl.maybe(Fl.string),language:Fl.optional(Fl.string,d.language)}).views((e=>({get env_(){return ku(e)},get root_(){return Du(e)},getOganization_:t=>e.organizationList.find((e=>e.organizationId===t))}))).actions(ac(["set"])).actions((e=>{const t=Rs((function*(){const{io:t}=e.env_;try{yield t.auth.logout()}catch(r){}})),r=Rs((function*(){const{io:t,tip:r}=e.env_;try{const r=yield t.organization.getOrganizationList();e.organizationList=r}catch(n){r.error({content:n.message,isManuallyClose:!0})}})),n=Rs((function*(t){const{io:r,tip:n}=e.env_;try{const i=yield r.user.update(t);Object.keys(t).forEach((t=>{e[t]=i[t]})),n.success({content:""})}catch(i){n.error({content:i.message,isManuallyClose:!0})}})),i=Rs((function*(t){const{io:n,tip:i}=e.env_,o=e.root_.overlayManager.get("fieldModal");console.log("value",t);try{yield n.organization.create(t),r(),i.success({content:""}),o.hide()}catch(a){return i.error({content:a.message,isManuallyClose:!0}),!1}return!0})),o=Rs((function*(t){const{io:n,tip:i}=e.env_;try{yield n.organization.removeOrganization({":organizationId":t}),r();e.root_.overlayManager.get("fieldModal").hide()}catch(o){i.error({content:o.message,isManuallyClose:!0})}})),a=Rs((function*(t){const{io:n,tip:i}=e.env_;try{yield n.organization.quitOrganization({":organizationId":t}),r()}catch(o){i.error({content:o.message,isManuallyClose:!0})}})),u=Rs((function*(t,n){const{io:i,tip:o}=e.env_;try{yield i.user.changeLoginDefault({organizationId:t,isDefault:n}),r()}catch(a){o.error({content:a.message,isManuallyClose:!0})}})),s=Rs((function*(t){const{io:r,session:n,tip:i}=e.env_;try{yield r.user.changeWorkspace({organizationId:t}),n.data({}),window.location.reload()}catch(o){i.error({content:o.message,isManuallyClose:!0})}}));return{afterCreate:()=>{e.getOrganizationList()},changeLanguage:(t="zh-CN")=>{e.language=t,d.changeLanguage(t)},hasPermission:(t="",r=[])=>!!(e.isMaster||e.permissions.includes(t)||r.includes(t)),logout:t,hideDropMenu:(t=!0)=>{e.isHideDropMenu=t},getOrganizationList:r,changechangeWorkspace:s,changeLoginDefault:u,createOrganization:i,removeOrganization:o,quitOrganization:a,changeUserDetail:n}})),cc=Fl.model("MRoot",{user:Fl.maybe(lc),head:Fl.optional(uc,{}),sidebar:Fl.optional(sc,{})}).views((e=>({get env_(){return ku(e)}}))).actions((e=>({afterCreate:()=>{const{session:t}=e.env_;e.getUserInfo();const r=t.get("activePanel","projects");e.head={activePanelButton:r}},getUserInfo:Rs((function*(){const{io:t}=e.env_,r=yield t.auth.loginInfo();e.user=r}))}))),fc=du(),pc=cc.create({},{event:fc,session:h,local:b,io:v,i18n:d});document.addEventListener("contextmenu",(e=>{e.preventDefault()})),window.waveview=pc;var dc="_main_1o5jm_1";var hc=Vn((()=>{const{user:e}=pc;return e?l.createElement("div",{className:m("fbv",dc)},l.createElement(Aa,null),l.createElement(qo,{backend:Sa},l.createElement("div",{className:"fb1 fbh pr"},l.createElement(Ia,null),l.createElement(Ca,null),l.createElement(Na,null))),l.createElement(Va,null)):l.createElement("div",{className:"w100p h100v fbv fbjc fbac"})}));export default hc;
